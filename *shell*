[vmon@telly /]$ cd
[vmon@telly ~]$ cd doc/code/
[vmon@telly code]$ cd tor/stegotorus/
[vmon@telly stegotorus]$ git status
# On branch f--chop-handshaker
# Changes not staged for commit:
#   (use "git add <file>..." to update what will be committed)
#   (use "git checkout -- <file>..." to discard changes in working directory)
#
#	modified:   src/protocol/chop_handshaker.h
#
no changes added to commit (use "git add" and/or "git commit -a")
[vmon@telly stegotorus]$ git diff
WARNING: terminal is not fully functional
-  (press RETURN)
diff --git a/src/protocol/chop_handshaker.h b/src/protocol/chop_handshaker.h
index eacefe2..7be56e9 100644
--- a/src/protocol/chop_handshaker.h
+++ b/src/protocol/chop_handshaker.h
@@ -22,7 +22,7 @@
 
    Each is 16bit word:
    | 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | A | B | C | D | E | F |
-   | Enc_ecb(Circuit ID + Padding) | SHA-1(Circuit ID + Padding)   |
+   | Enc_ecb(Circuit ID + Padding) | SHA-256(Circuit ID + Padding) |
 
    It is not the most secure header more secure header out-there
    TODO: Make a secure header with Elligator algorithm
[vmon@telly stegotorus]$ git add .
[vmon@telly stegotorus]$ git commit -m "update handshake description"
[f--chop-handshaker f2d84b1] update handshake description
 1 file changed, 1 insertion(+), 1 deletion(-)
[vmon@telly stegotorus]$ git status
# On branch f--chop-handshaker
nothing to commit, working directory clean
[vmon@telly stegotorus]$ git branch
  f--ack-retransmit
  f--bad-proxy-ack-tester
* f--chop-handshaker
  f--curl-libevent-easy-fix
  f--ext-cover-client-comms
  f--image-steg
  f--payload-servers
  f--tester-proxy
  master
  this-is-vmon
  tor-improve
[vmon@telly stegotorus]$ git tor-improve
git: 'tor-improve' is not a git command. See 'git --help'.
[vmon@telly stegotorus]$ git checkout tor-improve
Switched to branch 'tor-improve'
[vmon@telly stegotorus]$ git merge f--chop-handshaker
Auto-merging src/steg/payload_scraper.h
Auto-merging src/steg/payload_scraper.cc
Auto-merging src/steg/http_apache.cc
CONFLICT (content): Merge conflict in src/steg/http_apache.cc
Auto-merging src/steg/http.cc
Auto-merging src/steg/apache_payload_server.h
Auto-merging src/steg/apache_payload_server.cc
Removing src/steg/apache_payload_server. cc
Auto-merging src/protocol/chop.cc
CONFLICT (content): Merge conflict in src/protocol/chop.cc
Auto-merging Makefile.am
Automatic merge failed; fix conflicts and then commit the result.
[vmon@telly stegotorus]$ git mergetool
Merging:
src/protocol/chop.cc
src/steg/http_apache.cc

Normal merge conflict for 'src/protocol/chop.cc':
  {local}: modified file
  {remote}: modified file
nil

Normal merge conflict for 'src/steg/http_apache.cc':
  {local}: modified file
  {remote}: modified file
*ERROR*: Too dangerous to merge versions of a file visited by another buffer
merge of src/steg/http_apache.cc failed
[vmon@telly stegotorus]$ git mergetool
Merging:
src/steg/http_apache.cc

Normal merge conflict for 'src/steg/http_apache.cc':
  {local}: modified file
  {remote}: modified file
nil
[vmon@telly stegotorus]$ make clean
 cd . && automake-1.14 --foreign Makefile
 cd . && /bin/sh ./config.status Makefile depfiles
config.status: creating Makefile
config.status: executing depfiles commands
test -z "stegotorus pgen_fake pgen_pcap" || rm -f stegotorus pgen_fake pgen_pcap
test -z "protolist.cc steglist.cc unitgrplist.cc stamp-protolist stamp-steglist stamp-unitgrplist stamp-audit-globals" || rm -f protolist.cc steglist.cc unitgrplist.cc stamp-protolist stamp-steglist stamp-unitgrplist stamp-audit-globals
[ ! -f traces/.faked ] || rm -r traces
test -z "libstegotorus.a" || rm -f libstegotorus.a
test -z "unittests tltester tester_proxy webpage_tester" || rm -f unittests tltester tester_proxy webpage_tester
rm -f *.o
rm -f src/*.o
rm -f src/http_parser/*.o
rm -f src/protocol/*.o
rm -f src/steg/*.o
rm -f src/steg/http_steg_mods/*.o
rm -f src/test/*.o
rm -f src/test/tester_proxy/*.o
[vmon@telly stegotorus]$ make
make  all-am
make[1]: Entering directory `/home/vmon/Dropbox/doc/code/tor/stegotorus'
depbase=`echo src/base64.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
g++    -I. -I./src   -Werror -Wall -Wextra -Wformat=2 -std=c++0x -O0 -g2 -std=gnu++11 -MT src/base64.o -MD -MP -MF $depbase.Tpo -c -o src/base64.o src/base64.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo src/compression.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
g++    -I. -I./src   -Werror -Wall -Wextra -Wformat=2 -std=c++0x -O0 -g2 -std=gnu++11 -MT src/compression.o -MD -MP -MF $depbase.Tpo -c -o src/compression.o src/compression.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo src/connections.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
g++    -I. -I./src   -Werror -Wall -Wextra -Wformat=2 -std=c++0x -O0 -g2 -std=gnu++11 -MT src/connections.o -MD -MP -MF $depbase.Tpo -c -o src/connections.o src/connections.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo src/crypt.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
g++    -I. -I./src   -Werror -Wall -Wextra -Wformat=2 -std=c++0x -O0 -g2 -std=gnu++11 -MT src/crypt.o -MD -MP -MF $depbase.Tpo -c -o src/crypt.o src/crypt.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo src/mkem.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
g++    -I. -I./src   -Werror -Wall -Wextra -Wformat=2 -std=c++0x -O0 -g2 -std=gnu++11 -MT src/mkem.o -MD -MP -MF $depbase.Tpo -c -o src/mkem.o src/mkem.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo src/network.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
g++    -I. -I./src   -Werror -Wall -Wextra -Wformat=2 -std=c++0x -O0 -g2 -std=gnu++11 -MT src/network.o -MD -MP -MF $depbase.Tpo -c -o src/network.o src/network.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo src/protocol.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
g++    -I. -I./src   -Werror -Wall -Wextra -Wformat=2 -std=c++0x -O0 -g2 -std=gnu++11 -MT src/protocol.o -MD -MP -MF $depbase.Tpo -c -o src/protocol.o src/protocol.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo src/rng.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
g++    -I. -I./src   -Werror -Wall -Wextra -Wformat=2 -std=c++0x -O0 -g2 -std=gnu++11 -MT src/rng.o -MD -MP -MF $depbase.Tpo -c -o src/rng.o src/rng.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo src/socks.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
g++    -I. -I./src   -Werror -Wall -Wextra -Wformat=2 -std=c++0x -O0 -g2 -std=gnu++11 -MT src/socks.o -MD -MP -MF $depbase.Tpo -c -o src/socks.o src/socks.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo src/steg.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
g++    -I. -I./src   -Werror -Wall -Wextra -Wformat=2 -std=c++0x -O0 -g2 -std=gnu++11 -MT src/steg.o -MD -MP -MF $depbase.Tpo -c -o src/steg.o src/steg.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo src/util.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
g++    -I. -I./src   -Werror -Wall -Wextra -Wformat=2 -std=c++0x -O0 -g2 -std=gnu++11 -MT src/util.o -MD -MP -MF $depbase.Tpo -c -o src/util.o src/util.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo src/util-net.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
g++    -I. -I./src   -Werror -Wall -Wextra -Wformat=2 -std=c++0x -O0 -g2 -std=gnu++11 -MT src/util-net.o -MD -MP -MF $depbase.Tpo -c -o src/util-net.o src/util-net.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo src/evbuf_util.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
g++    -I. -I./src   -Werror -Wall -Wextra -Wformat=2 -std=c++0x -O0 -g2 -std=gnu++11 -MT src/evbuf_util.o -MD -MP -MF $depbase.Tpo -c -o src/evbuf_util.o src/evbuf_util.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo src/curl_util.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
g++    -I. -I./src   -Werror -Wall -Wextra -Wformat=2 -std=c++0x -O0 -g2 -std=gnu++11 -MT src/curl_util.o -MD -MP -MF $depbase.Tpo -c -o src/curl_util.o src/curl_util.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo src/transparent_proxy.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
g++    -I. -I./src   -Werror -Wall -Wextra -Wformat=2 -std=c++0x -O0 -g2 -std=gnu++11 -MT src/transparent_proxy.o -MD -MP -MF $depbase.Tpo -c -o src/transparent_proxy.o src/transparent_proxy.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo src/protocol/chop.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
g++    -I. -I./src   -Werror -Wall -Wextra -Wformat=2 -std=c++0x -O0 -g2 -std=gnu++11 -MT src/protocol/chop.o -MD -MP -MF $depbase.Tpo -c -o src/protocol/chop.o src/protocol/chop.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo src/protocol/chop_blk.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
g++    -I. -I./src   -Werror -Wall -Wextra -Wformat=2 -std=c++0x -O0 -g2 -std=gnu++11 -MT src/protocol/chop_blk.o -MD -MP -MF $depbase.Tpo -c -o src/protocol/chop_blk.o src/protocol/chop_blk.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo src/protocol/null.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
g++    -I. -I./src   -Werror -Wall -Wextra -Wformat=2 -std=c++0x -O0 -g2 -std=gnu++11 -MT src/protocol/null.o -MD -MP -MF $depbase.Tpo -c -o src/protocol/null.o src/protocol/null.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo src/steg/b64cookies.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
g++    -I. -I./src   -Werror -Wall -Wextra -Wformat=2 -std=c++0x -O0 -g2 -std=gnu++11 -MT src/steg/b64cookies.o -MD -MP -MF $depbase.Tpo -c -o src/steg/b64cookies.o src/steg/b64cookies.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo src/steg/cookies.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
g++    -I. -I./src   -Werror -Wall -Wextra -Wformat=2 -std=c++0x -O0 -g2 -std=gnu++11 -MT src/steg/cookies.o -MD -MP -MF $depbase.Tpo -c -o src/steg/cookies.o src/steg/cookies.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo src/steg/embed.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
g++    -I. -I./src   -Werror -Wall -Wextra -Wformat=2 -std=c++0x -O0 -g2 -std=gnu++11 -MT src/steg/embed.o -MD -MP -MF $depbase.Tpo -c -o src/steg/embed.o src/steg/embed.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo src/steg/http.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
g++    -I. -I./src   -Werror -Wall -Wextra -Wformat=2 -std=c++0x -O0 -g2 -std=gnu++11 -MT src/steg/http.o -MD -MP -MF $depbase.Tpo -c -o src/steg/http.o src/steg/http.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo src/steg/http_apache.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
g++    -I. -I./src   -Werror -Wall -Wextra -Wformat=2 -std=c++0x -O0 -g2 -std=gnu++11 -MT src/steg/http_apache.o -MD -MP -MF $depbase.Tpo -c -o src/steg/http_apache.o src/steg/http_apache.cc &&\
mv -f $depbase.Tpo $depbase.Po
src/steg/http_apache.cc:193:1: error: stray ‘##’ in program
 ####### Ancestor
 ^
src/steg/http_apache.cc:193:3: error: stray ‘##’ in program
 ####### Ancestor
   ^
src/steg/http_apache.cc:193:5: error: stray ‘##’ in program
 ####### Ancestor
     ^
src/steg/http_apache.cc:193:7: error: stray ‘#’ in program
 ####### Ancestor
       ^
src/steg/http_apache.cc: In constructor ‘{anonymous}::http_apache_steg_config_t::http_apache_steg_config_t(config_t*)’:
src/steg/http_apache.cc:169:1: error: expected primary-expression before ‘<<’ token
 <<<<<<< variant A
 ^
src/steg/http_apache.cc:169:3: error: expected primary-expression before ‘<<’ token
 <<<<<<< variant A
   ^
src/steg/http_apache.cc:169:5: error: expected primary-expression before ‘<<’ token
 <<<<<<< variant A
     ^
src/steg/http_apache.cc:169:7: error: expected primary-expression before ‘<’ token
 <<<<<<< variant A
       ^
src/steg/http_apache.cc:169:9: error: ‘variant’ was not declared in this scope
 <<<<<<< variant A
         ^
src/steg/http_apache.cc:169:17: error: expected ‘;’ before ‘A’
 <<<<<<< variant A
                 ^
src/steg/http_apache.cc:172:87: error: ‘payload_filename’ was not declared in this scope
   payload_server = new ApachePayloadServer(is_clientside ? client_side : server_side, payload_filename);
                                                                                       ^
src/steg/http_apache.cc:174:1: error: expected primary-expression before ‘>>’ token
 >>>>>>> variant B
 ^
src/steg/http_apache.cc:174:3: error: expected primary-expression before ‘>>’ token
 >>>>>>> variant B
   ^
src/steg/http_apache.cc:174:5: error: expected primary-expression before ‘>>’ token
 >>>>>>> variant B
     ^
src/steg/http_apache.cc:174:7: error: expected primary-expression before ‘>’ token
 >>>>>>> variant B
       ^
src/steg/http_apache.cc:174:17: error: expected ‘;’ before ‘B’
 >>>>>>> variant B
                 ^
src/steg/http_apache.cc:193:9: error: ‘Ancestor’ was not declared in this scope
 ####### Ancestor
         ^
src/steg/http_apache.cc:194:3: error: expected ‘;’ before ‘string’
   string payload_filename;
   ^
src/steg/http_apache.cc:201:1: error: expected primary-expression before ‘==’ token
 ======= end
 ^
src/steg/http_apache.cc:201:3: error: expected primary-expression before ‘==’ token
 ======= end
   ^
src/steg/http_apache.cc:201:5: error: expected primary-expression before ‘==’ token
 ======= end
     ^
src/steg/http_apache.cc:201:7: error: expected primary-expression before ‘=’ token
 ======= end
       ^
src/steg/http_apache.cc:203:3: error: expected ‘;’ before ‘if’
   if (!is_clientside) {//on server side the dictionary is ready to be used
   ^
src/steg/http_apache.cc:207:3: error: ‘else’ without a previous ‘if’
   else {
   ^
make[1]: *** [src/steg/http_apache.o] Error 1
make[1]: Leaving directory `/home/vmon/Dropbox/doc/code/tor/stegotorus'
make: *** [all] Error 2
[vmon@telly stegotorus]$ make
make  all-am
make[1]: Entering directory `/home/vmon/Dropbox/doc/code/tor/stegotorus'
depbase=`echo src/steg/http_apache.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
g++    -I. -I./src   -Werror -Wall -Wextra -Wformat=2 -std=c++0x -O0 -g2 -std=gnu++11 -MT src/steg/http_apache.o -MD -MP -MF $depbase.Tpo -c -o src/steg/http_apache.o src/steg/http_apache.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo src/steg/http_steg_mods/file_steg.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
g++    -I. -I./src   -Werror -Wall -Wextra -Wformat=2 -std=c++0x -O0 -g2 -std=gnu++11 -MT src/steg/http_steg_mods/file_steg.o -MD -MP -MF $depbase.Tpo -c -o src/steg/http_steg_mods/file_steg.o src/steg/http_steg_mods/file_steg.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo src/steg/http_steg_mods/pdfSteg.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
g++    -I. -I./src   -Werror -Wall -Wextra -Wformat=2 -std=c++0x -O0 -g2 -std=gnu++11 -MT src/steg/http_steg_mods/pdfSteg.o -MD -MP -MF $depbase.Tpo -c -o src/steg/http_steg_mods/pdfSteg.o src/steg/http_steg_mods/pdfSteg.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo src/steg/http_steg_mods/swfSteg.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
g++    -I. -I./src   -Werror -Wall -Wextra -Wformat=2 -std=c++0x -O0 -g2 -std=gnu++11 -MT src/steg/http_steg_mods/swfSteg.o -MD -MP -MF $depbase.Tpo -c -o src/steg/http_steg_mods/swfSteg.o src/steg/http_steg_mods/swfSteg.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo src/steg/http_steg_mods/jsSteg.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
g++    -I. -I./src   -Werror -Wall -Wextra -Wformat=2 -std=c++0x -O0 -g2 -std=gnu++11 -MT src/steg/http_steg_mods/jsSteg.o -MD -MP -MF $depbase.Tpo -c -o src/steg/http_steg_mods/jsSteg.o src/steg/http_steg_mods/jsSteg.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo src/steg/http_steg_mods/jpgSteg.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
g++    -I. -I./src   -Werror -Wall -Wextra -Wformat=2 -std=c++0x -O0 -g2 -std=gnu++11 -MT src/steg/http_steg_mods/jpgSteg.o -MD -MP -MF $depbase.Tpo -c -o src/steg/http_steg_mods/jpgSteg.o src/steg/http_steg_mods/jpgSteg.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo src/steg/http_steg_mods/pngSteg.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
g++    -I. -I./src   -Werror -Wall -Wextra -Wformat=2 -std=c++0x -O0 -g2 -std=gnu++11 -MT src/steg/http_steg_mods/pngSteg.o -MD -MP -MF $depbase.Tpo -c -o src/steg/http_steg_mods/pngSteg.o src/steg/http_steg_mods/pngSteg.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo src/steg/http_steg_mods/gifSteg.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
g++    -I. -I./src   -Werror -Wall -Wextra -Wformat=2 -std=c++0x -O0 -g2 -std=gnu++11 -MT src/steg/http_steg_mods/gifSteg.o -MD -MP -MF $depbase.Tpo -c -o src/steg/http_steg_mods/gifSteg.o src/steg/http_steg_mods/gifSteg.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo src/steg/nosteg.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
g++    -I. -I./src   -Werror -Wall -Wextra -Wformat=2 -std=c++0x -O0 -g2 -std=gnu++11 -MT src/steg/nosteg.o -MD -MP -MF $depbase.Tpo -c -o src/steg/nosteg.o src/steg/nosteg.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo src/steg/nosteg_rr.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
g++    -I. -I./src   -Werror -Wall -Wextra -Wformat=2 -std=c++0x -O0 -g2 -std=gnu++11 -MT src/steg/nosteg_rr.o -MD -MP -MF $depbase.Tpo -c -o src/steg/nosteg_rr.o src/steg/nosteg_rr.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo src/steg/payload_server.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
g++    -I. -I./src   -Werror -Wall -Wextra -Wformat=2 -std=c++0x -O0 -g2 -std=gnu++11 -MT src/steg/payload_server.o -MD -MP -MF $depbase.Tpo -c -o src/steg/payload_server.o src/steg/payload_server.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo src/steg/trace_payload_server.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
g++    -I. -I./src   -Werror -Wall -Wextra -Wformat=2 -std=c++0x -O0 -g2 -std=gnu++11 -MT src/steg/trace_payload_server.o -MD -MP -MF $depbase.Tpo -c -o src/steg/trace_payload_server.o src/steg/trace_payload_server.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo src/steg/payload_scraper.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
g++    -I. -I./src   -Werror -Wall -Wextra -Wformat=2 -std=c++0x -O0 -g2 -std=gnu++11 -MT src/steg/payload_scraper.o -MD -MP -MF $depbase.Tpo -c -o src/steg/payload_scraper.o src/steg/payload_scraper.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo src/steg/apache_payload_server.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
g++    -I. -I./src   -Werror -Wall -Wextra -Wformat=2 -std=c++0x -O0 -g2 -std=gnu++11 -MT src/steg/apache_payload_server.o -MD -MP -MF $depbase.Tpo -c -o src/steg/apache_payload_server.o src/steg/apache_payload_server.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo src/subprocess-unix.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
g++    -I. -I./src   -Werror -Wall -Wextra -Wformat=2 -std=c++0x -O0 -g2 -std=gnu++11 -MT src/subprocess-unix.o -MD -MP -MF $depbase.Tpo -c -o src/subprocess-unix.o src/subprocess-unix.cc &&\
mv -f $depbase.Tpo $depbase.Po
/bin/sh ./src/genmodtable.sh protolist.cc src/protocol/chop.cc src/protocol/chop_blk.cc src/protocol/null.cc
touch stamp-protolist
depbase=`echo protolist.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
g++    -I. -I./src   -Werror -Wall -Wextra -Wformat=2 -std=c++0x -O0 -g2 -std=gnu++11 -MT protolist.o -MD -MP -MF $depbase.Tpo -c -o protolist.o protolist.cc &&\
mv -f $depbase.Tpo $depbase.Po
/bin/sh ./src/genmodtable.sh steglist.cc src/steg/b64cookies.cc src/steg/cookies.cc src/steg/embed.cc src/steg/http.cc src/steg/http_apache.cc src/steg/http_steg_mods/file_steg.cc src/steg/http_steg_mods/pdfSteg.cc src/steg/http_steg_mods/swfSteg.cc src/steg/http_steg_mods/jsSteg.cc src/steg/http_steg_mods/jpgSteg.cc src/steg/http_steg_mods/pngSteg.cc src/steg/http_steg_mods/gifSteg.cc src/steg/nosteg.cc src/steg/nosteg_rr.cc src/steg/payload_server.cc src/steg/trace_payload_server.cc src/steg/payload_scraper.cc src/steg/apache_payload_server.cc
touch stamp-steglist
depbase=`echo steglist.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
g++    -I. -I./src   -Werror -Wall -Wextra -Wformat=2 -std=c++0x -O0 -g2 -std=gnu++11 -MT steglist.o -MD -MP -MF $depbase.Tpo -c -o steglist.o steglist.cc &&\
mv -f $depbase.Tpo $depbase.Po
rm -f libstegotorus.a
ar cru libstegotorus.a src/base64.o src/compression.o src/connections.o src/crypt.o src/mkem.o src/network.o src/protocol.o src/rng.o src/socks.o src/steg.o src/util.o src/util-net.o src/evbuf_util.o src/curl_util.o src/transparent_proxy.o src/protocol/chop.o src/protocol/chop_blk.o src/protocol/null.o src/steg/b64cookies.o src/steg/cookies.o src/steg/embed.o src/steg/http.o src/steg/http_apache.o src/steg/http_apache.o src/steg/http_steg_mods/file_steg.o src/steg/http_steg_mods/pdfSteg.o src/steg/http_steg_mods/swfSteg.o src/steg/http_steg_mods/jsSteg.o src/steg/http_steg_mods/jpgSteg.o src/steg/http_steg_mods/pngSteg.o src/steg/http_steg_mods/gifSteg.o src/steg/nosteg.o src/steg/nosteg_rr.o src/steg/payload_server.o src/steg/trace_payload_server.o src/steg/payload_scraper.o src/steg/apache_payload_server.o  src/subprocess-unix.o protolist.o steglist.o 
: libstegotorus.a
depbase=`echo src/main.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
g++    -I. -I./src   -Werror -Wall -Wextra -Wformat=2 -std=c++0x -O0 -g2 -std=gnu++11 -MT src/main.o -MD -MP -MF $depbase.Tpo -c -o src/main.o src/main.cc &&\
mv -f $depbase.Tpo $depbase.Po
/bin/sh ./src/audit-globals.sh src/base64.o src/compression.o src/connections.o src/crypt.o src/mkem.o src/network.o src/protocol.o src/rng.o src/socks.o src/steg.o src/util.o src/util-net.o src/evbuf_util.o src/curl_util.o src/transparent_proxy.o src/protocol/chop.o src/protocol/chop_blk.o src/protocol/null.o src/steg/b64cookies.o src/steg/cookies.o src/steg/embed.o src/steg/http.o src/steg/http_apache.o src/steg/http_apache.o src/steg/http_steg_mods/file_steg.o src/steg/http_steg_mods/pdfSteg.o src/steg/http_steg_mods/swfSteg.o src/steg/http_steg_mods/jsSteg.o src/steg/http_steg_mods/jpgSteg.o src/steg/http_steg_mods/pngSteg.o src/steg/http_steg_mods/gifSteg.o src/steg/nosteg.o src/steg/nosteg_rr.o src/steg/payload_server.o src/steg/trace_payload_server.o src/steg/payload_scraper.o src/steg/apache_payload_server.o  src/subprocess-unix.o protolist.o steglist.o src/main.o
sed: -e expression #1, char 113: unknown option to `s'
touch stamp-audit-globals
g++ -Werror -Wall -Wextra -Wformat=2 -std=c++0x -O0 -g2 -std=gnu++11   -o stegotorus src/main.o libstegotorus.a -levent  -lcrypto  -L/usr/lib -lz  -lcurl  -lboost_system -lboost_filesystem   
depbase=`echo src/pgen_fake.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
g++    -I. -I./src   -Werror -Wall -Wextra -Wformat=2 -std=c++0x -O0 -g2 -std=gnu++11 -MT src/pgen_fake.o -MD -MP -MF $depbase.Tpo -c -o src/pgen_fake.o src/pgen_fake.cc &&\
mv -f $depbase.Tpo $depbase.Po
g++ -Werror -Wall -Wextra -Wformat=2 -std=c++0x -O0 -g2 -std=gnu++11   -o pgen_fake src/pgen_fake.o src/util.o src/rng.o src/base64.o -lcrypto  
depbase=`echo src/pgen_pcap.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
g++    -I. -I./src   -Werror -Wall -Wextra -Wformat=2 -std=c++0x -O0 -g2 -std=gnu++11 -MT src/pgen_pcap.o -MD -MP -MF $depbase.Tpo -c -o src/pgen_pcap.o src/pgen_pcap.cc &&\
mv -f $depbase.Tpo $depbase.Po
g++ -Werror -Wall -Wextra -Wformat=2 -std=c++0x -O0 -g2 -std=gnu++11   -o pgen_pcap src/pgen_pcap.o src/compression.o src/util.o -lpcap  -L/usr/lib -lz  
depbase=`echo src/test/tinytest.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
g++    -I. -I./src   -Werror -Wall -Wextra -Wformat=2 -std=c++0x -O0 -g2 -std=gnu++11 -MT src/test/tinytest.o -MD -MP -MF $depbase.Tpo -c -o src/test/tinytest.o src/test/tinytest.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo src/test/unittest.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
g++    -I. -I./src   -Werror -Wall -Wextra -Wformat=2 -std=c++0x -O0 -g2 -std=gnu++11 -MT src/test/unittest.o -MD -MP -MF $depbase.Tpo -c -o src/test/unittest.o src/test/unittest.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo src/test/unittest_base64.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
g++    -I. -I./src   -Werror -Wall -Wextra -Wformat=2 -std=c++0x -O0 -g2 -std=gnu++11 -MT src/test/unittest_base64.o -MD -MP -MF $depbase.Tpo -c -o src/test/unittest_base64.o src/test/unittest_base64.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo src/test/unittest_compression.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
g++    -I. -I./src   -Werror -Wall -Wextra -Wformat=2 -std=c++0x -O0 -g2 -std=gnu++11 -MT src/test/unittest_compression.o -MD -MP -MF $depbase.Tpo -c -o src/test/unittest_compression.o src/test/unittest_compression.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo src/test/unittest_crypt.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
g++    -I. -I./src   -Werror -Wall -Wextra -Wformat=2 -std=c++0x -O0 -g2 -std=gnu++11 -MT src/test/unittest_crypt.o -MD -MP -MF $depbase.Tpo -c -o src/test/unittest_crypt.o src/test/unittest_crypt.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo src/test/unittest_pdfsteg.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
g++    -I. -I./src   -Werror -Wall -Wextra -Wformat=2 -std=c++0x -O0 -g2 -std=gnu++11 -MT src/test/unittest_pdfsteg.o -MD -MP -MF $depbase.Tpo -c -o src/test/unittest_pdfsteg.o src/test/unittest_pdfsteg.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo src/test/unittest_socks.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
g++    -I. -I./src   -Werror -Wall -Wextra -Wformat=2 -std=c++0x -O0 -g2 -std=gnu++11 -MT src/test/unittest_socks.o -MD -MP -MF $depbase.Tpo -c -o src/test/unittest_socks.o src/test/unittest_socks.cc &&\
mv -f $depbase.Tpo $depbase.Po
/bin/sh ./src/test/genunitgrps.sh unitgrplist.cc src/test/unittest_base64.cc src/test/unittest_compression.cc src/test/unittest_crypt.cc src/test/unittest_pdfsteg.cc src/test/unittest_socks.cc
touch stamp-unitgrplist
depbase=`echo unitgrplist.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
g++    -I. -I./src   -Werror -Wall -Wextra -Wformat=2 -std=c++0x -O0 -g2 -std=gnu++11 -MT unitgrplist.o -MD -MP -MF $depbase.Tpo -c -o unitgrplist.o unitgrplist.cc &&\
mv -f $depbase.Tpo $depbase.Po
g++ -Werror -Wall -Wextra -Wformat=2 -std=c++0x -O0 -g2 -std=gnu++11   -o unittests src/test/tinytest.o src/test/unittest.o src/test/unittest_base64.o src/test/unittest_compression.o src/test/unittest_crypt.o src/test/unittest_pdfsteg.o src/test/unittest_socks.o unitgrplist.o libstegotorus.a -levent  -lcrypto  -L/usr/lib -lz  -lcurl  -lboost_system -lboost_filesystem   
depbase=`echo src/test/tltester.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
g++    -I. -I./src   -Werror -Wall -Wextra -Wformat=2 -std=c++0x -O0 -g2 -std=gnu++11 -MT src/test/tltester.o -MD -MP -MF $depbase.Tpo -c -o src/test/tltester.o src/test/tltester.cc &&\
mv -f $depbase.Tpo $depbase.Po
g++ -Werror -Wall -Wextra -Wformat=2 -std=c++0x -O0 -g2 -std=gnu++11   -o tltester src/test/tltester.o src/util.o src/util-net.o -levent  
depbase=`echo src/test/tester_proxy/tester_proxy.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
g++    -I. -I./src   -Werror -Wall -Wextra -Wformat=2 -std=c++0x -O0 -g2 -std=gnu++11 -MT src/test/tester_proxy/tester_proxy.o -MD -MP -MF $depbase.Tpo -c -o src/test/tester_proxy/tester_proxy.o src/test/tester_proxy/tester_proxy.cc &&\
mv -f $depbase.Tpo $depbase.Po
g++ -Werror -Wall -Wextra -Wformat=2 -std=c++0x -O0 -g2 -std=gnu++11   -o tester_proxy src/test/tester_proxy/tester_proxy.o -levent_openssl -levent  -lssl -lcrypto  
depbase=`echo src/test/webpage_tester.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
g++    -I. -I./src   -Werror -Wall -Wextra -Wformat=2 -std=c++0x -O0 -g2 -std=gnu++11 -MT src/test/webpage_tester.o -MD -MP -MF $depbase.Tpo -c -o src/test/webpage_tester.o src/test/webpage_tester.cc &&\
mv -f $depbase.Tpo $depbase.Po
depbase=`echo src/http_parser/http_parser.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
g++    -I. -I./src   -Werror -Wall -Wextra -Wformat=2 -std=c++0x -O0 -g2 -std=gnu++11 -MT src/http_parser/http_parser.o -MD -MP -MF $depbase.Tpo -c -o src/http_parser/http_parser.o src/http_parser/http_parser.cc &&\
mv -f $depbase.Tpo $depbase.Po
g++ -Werror -Wall -Wextra -Wformat=2 -std=c++0x -O0 -g2 -std=gnu++11   -o webpage_tester src/test/webpage_tester.o src/util.o src/util-net.o src/curl_util.o src/http_parser/http_parser.o -levent  -lcrypto  -L/usr/lib -lz  -lcurl  -lboost_system -lboost_filesystem   
make[1]: Leaving directory `/home/vmon/Dropbox/doc/code/tor/stegotorus'
[vmon@telly stegotorus]$ ls
#%2Amerge%2A#29214QbM#  doc               protolist.cc          setup_st_server.sh   tltester
aclocal.m4              gdb_emacs         protolist.o           src                  tmp
apache_payload          libboost.pc       README                stamp-audit-globals  tools
autom4te.cache          libstegotorus.a   scripts               stamp-h1             traces
config-aux              LICENSE           setup_st_client.sh    stamp-protolist      unitgrplist.cc
config.h                Makefile          setup_st_client.sh~   stamp-steglist       unitgrplist.o
config.h.in             Makefile.am       setup_stegodrop.sh    stamp-unitgrplist    unittests
config.log              Makefile.am~      setup_stegodrop.sh~   steglist.cc          #vmon-pgp-figure-print.txt#
config.status           Makefile.am.orig  setup_stegohttp.sh    steglist.o           webpage_tester
configure               Makefile.in       setup_stegohttp.sh~   stegotorus
configure.ac            pgen_fake         setup_stegotorus.sh   TAGS
configure.ac~           pgen_pcap         setup_stegotorus.sh~  tester_proxy
[vmon@telly stegotorus]$ cd apache_payload/
[vmon@telly apache_payload]$ ls
client_list.txt        server_list_png.txt  server_list.txt   server_list.txt.local
client_list.txt.local  #server_list.txt#    server_list.txt~
[vmon@telly apache_payload]$ rm \#server_list.txt\# 
[vmon@telly apache_payload]$ rm *~
[vmon@telly apache_payload]$ ls
client_list.txt  client_list.txt.local  server_list_png.txt  server_list.txt  server_list.txt.local
[vmon@telly apache_payload]$ mv server_list.txt.orig
mv: missing destination file operand after ‘server_list.txt.orig’
Try 'mv --help' for more information.
[vmon@telly apache_payload]$ mv server_list.txt server_list_noimg.txt
[vmon@telly apache_payload]$ mv server_list_png.txt server_list.txt
[vmon@telly apache_payload]$ ls -l
total 808
-rw-r--r-- 1 vmon users 124194 Sep 15 10:16 client_list.txt
-rw-r--r-- 1 vmon users 120990 Aug 11 18:56 client_list.txt.local
-rw-r--r-- 1 vmon users 272757 Sep 15 10:07 server_list_noimg.txt
-rw-r--r-- 1 vmon users  24659 Aug  8 02:40 server_list.txt
-rw-r--r-- 1 vmon users 263724 Aug 11 18:51 server_list.txt.local
[vmon@telly apache_payload]$ rm *.local
[vmon@telly apache_payload]$ ls
client_list.txt  server_list_noimg.txt  server_list.txt
[vmon@telly apache_payload]$ ls -l
total 424
-rw-r--r-- 1 vmon users 124194 Sep 15 10:16 client_list.txt
-rw-r--r-- 1 vmon users 272757 Sep 15 10:07 server_list_noimg.txt
-rw-r--r-- 1 vmon users  24659 Aug  8 02:40 server_list.txt
[vmon@telly apache_payload]$ cd ..
[vmon@telly stegotorus]$ make
make  all-am
make[1]: Entering directory `/home/vmon/Dropbox/doc/code/tor/stegotorus'
depbase=`echo src/steg/http_apache.o | sed 's|[^/]*$|.deps/&|;s|\.o$||'`;\
g++    -I. -I./src   -Werror -Wall -Wextra -Wformat=2 -std=c++0x -O0 -g2 -std=gnu++11 -MT src/steg/http_apache.o -MD -MP -MF $depbase.Tpo -c -o src/steg/http_apache.o src/steg/http_apache.cc &&\
mv -f $depbase.Tpo $depbase.Po
/bin/sh ./src/genmodtable.sh steglist.cc src/steg/b64cookies.cc src/steg/cookies.cc src/steg/embed.cc src/steg/http.cc src/steg/http_apache.cc src/steg/http_steg_mods/file_steg.cc src/steg/http_steg_mods/pdfSteg.cc src/steg/http_steg_mods/swfSteg.cc src/steg/http_steg_mods/jsSteg.cc src/steg/http_steg_mods/jpgSteg.cc src/steg/http_steg_mods/pngSteg.cc src/steg/http_steg_mods/gifSteg.cc src/steg/nosteg.cc src/steg/nosteg_rr.cc src/steg/payload_server.cc src/steg/trace_payload_server.cc src/steg/payload_scraper.cc src/steg/apache_payload_server.cc
steglist.cc is unchanged
touch stamp-steglist
rm -f libstegotorus.a
ar cru libstegotorus.a src/base64.o src/compression.o src/connections.o src/crypt.o src/mkem.o src/network.o src/protocol.o src/rng.o src/socks.o src/steg.o src/util.o src/util-net.o src/evbuf_util.o src/curl_util.o src/transparent_proxy.o src/protocol/chop.o src/protocol/chop_blk.o src/protocol/null.o src/steg/b64cookies.o src/steg/cookies.o src/steg/embed.o src/steg/http.o src/steg/http_apache.o src/steg/http_apache.o src/steg/http_steg_mods/file_steg.o src/steg/http_steg_mods/pdfSteg.o src/steg/http_steg_mods/swfSteg.o src/steg/http_steg_mods/jsSteg.o src/steg/http_steg_mods/jpgSteg.o src/steg/http_steg_mods/pngSteg.o src/steg/http_steg_mods/gifSteg.o src/steg/nosteg.o src/steg/nosteg_rr.o src/steg/payload_server.o src/steg/trace_payload_server.o src/steg/payload_scraper.o src/steg/apache_payload_server.o  src/subprocess-unix.o protolist.o steglist.o 
: libstegotorus.a
/bin/sh ./src/audit-globals.sh src/base64.o src/compression.o src/connections.o src/crypt.o src/mkem.o src/network.o src/protocol.o src/rng.o src/socks.o src/steg.o src/util.o src/util-net.o src/evbuf_util.o src/curl_util.o src/transparent_proxy.o src/protocol/chop.o src/protocol/chop_blk.o src/protocol/null.o src/steg/b64cookies.o src/steg/cookies.o src/steg/embed.o src/steg/http.o src/steg/http_apache.o src/steg/http_apache.o src/steg/http_steg_mods/file_steg.o src/steg/http_steg_mods/pdfSteg.o src/steg/http_steg_mods/swfSteg.o src/steg/http_steg_mods/jsSteg.o src/steg/http_steg_mods/jpgSteg.o src/steg/http_steg_mods/pngSteg.o src/steg/http_steg_mods/gifSteg.o src/steg/nosteg.o src/steg/nosteg_rr.o src/steg/payload_server.o src/steg/trace_payload_server.o src/steg/payload_scraper.o src/steg/apache_payload_server.o  src/subprocess-unix.o protolist.o steglist.o src/main.o
sed: -e expression #1, char 113: unknown option to `s'
touch stamp-audit-globals
g++ -Werror -Wall -Wextra -Wformat=2 -std=c++0x -O0 -g2 -std=gnu++11   -o stegotorus src/main.o libstegotorus.a -levent  -lcrypto  -L/usr/lib -lz  -lcurl  -lboost_system -lboost_filesystem   
g++ -Werror -Wall -Wextra -Wformat=2 -std=c++0x -O0 -g2 -std=gnu++11   -o unittests src/test/tinytest.o src/test/unittest.o src/test/unittest_base64.o src/test/unittest_compression.o src/test/unittest_crypt.o src/test/unittest_pdfsteg.o src/test/unittest_socks.o unitgrplist.o libstegotorus.a -levent  -lcrypto  -L/usr/lib -lz  -lcurl  -lboost_system -lboost_filesystem   
make[1]: Leaving directory `/home/vmon/Dropbox/doc/code/tor/stegotorus'
[vmon@telly stegotorus]$ curl -x 127.0.0.1:4999 1112.net/lastpage
  C-c C-c
[vmon@telly stegotorus]$ curl -x 127.0.0.1:4999 1112.net/lastpage
  C-c C-c
[vmon@telly stegotorus]$ curl -x 127.0.0.1:4999 1112.net/lastpage
curl: (52) Empty reply from server
[vmon@telly stegotorus]$ curl -x 127.0.0.1:4999 1112.net/lastpage.html
curl: (52) Empty reply from server
[vmon@telly stegotorus]$ cd ..
[vmon@telly tor]$ cd ..
[vmon@telly code]$ cd deflect/ats_lab/
[vmon@telly ats_lab]$ ls
ats_learn2ban_tasks.org~       deflect                   modular-challenger.patch~  trafficserver-3.2.4
banjax                         libconfig-1.4.9           old_handler.cpp            waiting.gif
cloudflare                     libconfig-1.4.9.tar.gz    re2
controller.staging.deflect.ca  modular-challenger.patch  swabber
[vmon@telly ats_lab]$ cd deflect/
[vmon@telly deflect]$ ls
banjax  db_tools  edge_rotation  gtest  README.md  regex_ban
[vmon@telly deflect]$ cd banjax/
[vmon@telly banjax]$ ls
banjax.so  build  challenger  config  debian  doc  include  Makefile  src  test
[vmon@telly banjax]$ cd src
[vmon@telly src]$ ls
ats_cont.cpp~               banjax.cpp             cookie_parser.cpp~  regex_manager.cpp~        trash
ats_event_handler.cpp       banjax.cpp~            cookie_parser.h~    regex_manager.lo          util.cpp
ats_event_handler.cpp~      banjax.lo              cookie_parser.lo    swabber_interface.cpp     util.cpp~
ats_event_handler.cpp.orig  banjax.so              #db_tools.cpp#      swabber_interface.cpp~    util.lo
ats_event_handler.lo        challenge_manager.cpp  db_tools.cpp~       swabber_interface.lo
banjax_continuation.cpp     challenge_manager.lo   db_tools.lo         transaction_muncher.cpp
banjax_continuation.cpp~    cookie_parser.c~       old                 transaction_muncher.cpp~
banjax_continuation.lo      cookie_parser.cpp      regex_manager.cpp   transaction_muncher.lo
[vmon@telly src]$ cd ..
[vmon@telly banjax]$ cd ..
[vmon@telly deflect]$ ls
banjax  db_tools  edge_rotation  gtest  README.md  regex_ban
[vmon@telly deflect]$ pwd
/home/vmon/doc/code/deflect/ats_lab/deflect
[vmon@telly deflect]$ git branch
  Redirct-traffic-to-solver
  ch_manager
  f--challenger
  f--cppization
* f--modular-filters
  f--mysql-less
  javascript-solver
  master
  staging
[vmon@telly deflect]$ git status
# On branch f--modular-filters
# Changes not staged for commit:
#   (use "git add/rm <file>..." to update what will be committed)
#   (use "git checkout -- <file>..." to discard changes in working directory)
#
#	modified:   banjax/include/regex_manager.h
#	deleted:    banjax/src/db_tools.cpp
#
no changes added to commit (use "git add" and/or "git commit -a")
[vmon@telly deflect]$ git diff
WARNING: terminal is not fully functional
-  (press RETURN)
diff --git a/banjax/include/regex_manager.h b/banjax/include/regex_manager.h
index 0a3322e..06e0a5e 100644
--- a/banjax/include/regex_manager.h
+++ b/banjax/include/regex_manager.h
@@ -32,8 +32,9 @@ class RegexManager : public BanjaxFilter
     REGEX_MATCHED
   };
   enum RegexResult parse_request(string ats_record);
+
   /**
-     receives the db object need to read the regex list,
+     receives the config object need to read the regex list,
      subsequently it reads all the regexs
 
   */
diff --git a/banjax/src/db_tools.cpp b/banjax/src/db_tools.cpp
deleted file mode 100644
index dbf25f6..0000000
--- a/banjax/src/db_tools.cpp
+++ /dev/null
@@ -1,99 +0,0 @@
-/*
- * The functions to access the ats database, all access to the database
:q
[vmon@telly deflect]$ git add .
[vmon@telly deflect]$ warning: You ran 'git add' with neither '-A (--all)' or '--ignore-removal',
whose behaviour will change in Git 2.0 with respect to paths you removed.
Paths like 'banjax/src/db_tools.cpp' that are
removed from your working tree are ignored with this version of Git.

* 'git add --ignore-removal <pathspec>', which is the current default,
  ignores paths you removed from your working tree.

* 'git add --all <pathspec>' will let you also record the removals.

Run 'git status' to check the paths you removed from your working tree.

[vmon@telly deflect]$ git status
# On branch f--modular-filters
# Changes to be committed:
#   (use "git reset HEAD <file>..." to unstage)
#
#	modified:   banjax/include/regex_manager.h
#
# Changes not staged for commit:
#   (use "git add/rm <file>..." to update what will be committed)
#   (use "git checkout -- <file>..." to discard changes in working directory)
#
#	deleted:    banjax/src/db_tools.cpp
#
[vmon@telly deflect]$ git rm banjax/src/db_tools.cpp~ 
fatal: pathspec 'banjax/src/db_tools.cpp~' did not match any files
[vmon@telly deflect]$ git rm banjax/src/db_tools.cpp
rm 'banjax/src/db_tools.cpp'
[vmon@telly deflect]$ git status
# On branch f--modular-filters
# Changes to be committed:
#   (use "git reset HEAD <file>..." to unstage)
#
#	modified:   banjax/include/regex_manager.h
#	deleted:    banjax/src/db_tools.cpp
#
[vmon@telly deflect]$ cd banjax/
[vmon@telly banjax]$ make
"/usr//bin/tsxs" -o banjax.so -I "./include" -I "/usr/include/mysql" -l re2 -l zmq -l config++ -C src/*.cpp
/bin/sh: /usr//bin/tsxs: No such file or directory
make: *** [banjax] Error 127
[vmon@telly banjax]$ make BASEDIR=/usr/local/
"/usr/local//bin/tsxs" -o banjax.so -I "./include" -I "/usr/include/mysql" -l re2 -l zmq -l config++ -C src/*.cpp
  compiling src/ats_event_handler.cpp -> src/ats_event_handler.lo
  compiling src/banjax_continuation.cpp -> src/banjax_continuation.lo
  compiling src/banjax.cpp -> src/banjax.lo
  compiling src/challenge_manager.cpp -> src/challenge_manager.lo
  compiling src/cookie_parser.cpp -> src/cookie_parser.lo
  compiling src/regex_manager.cpp -> src/regex_manager.lo
  compiling src/swabber_interface.cpp -> src/swabber_interface.lo
  compiling src/transaction_muncher.cpp -> src/transaction_muncher.lo
  compiling src/util.cpp -> src/util.lo
  linking -> banjax.so
[vmon@telly banjax]$ git status
# On branch f--modular-filters
# Changes to be committed:
#   (use "git reset HEAD <file>..." to unstage)
#
#	modified:   include/regex_manager.h
#	deleted:    src/db_tools.cpp
#
# Changes not staged for commit:
#   (use "git add <file>..." to update what will be committed)
#   (use "git checkout -- <file>..." to discard changes in working directory)
#
#	modified:   Makefile
#
[vmon@telly banjax]$ git add .
[vmon@telly banjax]$ git commit -m "getting rid of mysqlclient"
[f--modular-filters d99c4ff] getting rid of mysqlclient
 3 files changed, 3 insertions(+), 101 deletions(-)
 delete mode 100644 banjax/src/db_tools.cpp
[vmon@telly banjax]$ git branch
  Redirct-traffic-to-solver
  ch_manager
  f--challenger
  f--cppization
* f--modular-filters
  f--mysql-less
  javascript-solver
  master
  staging
[vmon@telly banjax]$ git checkout staging
Switched to branch 'staging'
[vmon@telly banjax]$ git status
# On branch staging
nothing to commit, working directory clean
[vmon@telly banjax]$ git log
WARNING: terminal is not fully functional
-  (press RETURN)
commit 1c217b4547dea93e679015f796a14a010be93222
Author: vmon <vmonmoonshine@gmail.com>
Date:   Mon Sep 16 08:41:51 2013 -0600

    allocating one byte more for the request

commit 8c37ee2fecba5133f3725847dfbd930656d2bb80
Author: vmon <vmonmoonshine@gmail.com>
Date:   Fri Sep 6 00:37:29 2013 -0600

    Configs moved from mysql db to libconfig

commit e73492ffaab3c47c1f36e995b7e1ff513e5186f3
Author: Hugh <nosmo@nosmo.me>
Date:   Sun Aug 18 15:52:16 2013 -0400

    Debian package files

commit 03754c2a93789d04e56ada8afda7e3179930450c
Author: Hugh <nosmo@nosmo.me>
Date:   Thu Aug 1 18:12:44 2013 -0400

    Replacing db init script with actual DB data
:q
[vmon@telly banjax]$ mv src/db_tools.cpp ../db_tools/
[vmon@telly banjax]$ mv include/db_tools.h ../db_tools/
[vmon@telly banjax]$ git status
# On branch staging
# Changes not staged for commit:
#   (use "git add/rm <file>..." to update what will be committed)
#   (use "git checkout -- <file>..." to discard changes in working directory)
#
#	modified:   Makefile
#	deleted:    include/db_tools.h
#	deleted:    src/db_tools.cpp
#
# Untracked files:
#   (use "git add <file>..." to include in what will be committed)
#
#	../db_tools/db_tools.cpp
#	../db_tools/db_tools.h
no changes added to commit (use "git add" and/or "git commit -a")
[vmon@telly banjax]$ cd ..
[vmon@telly deflect]$ git status
# On branch staging
# Changes not staged for commit:
#   (use "git add/rm <file>..." to update what will be committed)
#   (use "git checkout -- <file>..." to discard changes in working directory)
#
#	modified:   banjax/Makefile
#	deleted:    banjax/include/db_tools.h
#	deleted:    banjax/src/db_tools.cpp
#
# Untracked files:
#   (use "git add <file>..." to include in what will be committed)
#
#	db_tools/db_tools.cpp
#	db_tools/db_tools.h
no changes added to commit (use "git add" and/or "git commit -a")
[vmon@telly deflect]$ git add .
warning: You ran 'git add' with neither '-A (--all)' or '--ignore-removal',
whose behaviour will change in Git 2.0 with respect to paths you removed.
Paths like 'banjax/include/db_tools.h' that are
removed from your working tree are ignored with this version of Git.

* 'git add --ignore-removal <pathspec>', which is the current default,
  ignores paths you removed from your working tree.

* 'git add --all <pathspec>' will let you also record the removals.

Run 'git status' to check the paths you removed from your working tree.

[vmon@telly deflect]$ git status
# On branch staging
# Changes to be committed:
#   (use "git reset HEAD <file>..." to unstage)
#
#	modified:   banjax/Makefile
#	new file:   db_tools/db_tools.cpp
#	new file:   db_tools/db_tools.h
#
# Changes not staged for commit:
#   (use "git add/rm <file>..." to update what will be committed)
#   (use "git checkout -- <file>..." to discard changes in working directory)
#
#	deleted:    banjax/include/db_tools.h
#	deleted:    banjax/src/db_tools.cpp
#
[vmon@telly deflect]$ git rm banjax/include/db_tools.h
rm 'banjax/include/db_tools.h'
[vmon@telly deflect]$ git rm banjax/src/db_tools.cpp
rm 'banjax/src/db_tools.cpp'
[vmon@telly deflect]$ git status
# On branch staging
# Changes to be committed:
#   (use "git reset HEAD <file>..." to unstage)
#
#	modified:   banjax/Makefile
#	renamed:    banjax/src/db_tools.cpp -> db_tools/db_tools.cpp
#	renamed:    banjax/include/db_tools.h -> db_tools/db_tools.h
#
[vmon@telly deflect]$ make
make: *** No targets specified and no makefile found.  Stop.
[vmon@telly deflect]$ cd banjax/
[vmon@telly banjax]$ make
"/usr//bin/tsxs" -o banjax.so -I "./include" -I "/usr/include/mysql" -l re2 -l zmq -l config++ -C src/*.cpp
/bin/sh: /usr//bin/tsxs: No such file or directory
make: *** [banjax] Error 127
[vmon@telly banjax]$ make BASEDIR=/usr/local
"/usr/local/bin/tsxs" -o banjax.so -I "./include" -I "/usr/include/mysql" -l re2 -l zmq -l config++ -C src/*.cpp
  compiling src/ats_event_handler.cpp -> src/ats_event_handler.lo
src/ats_event_handler.cpp:30:22: fatal error: db_tools.h: No such file or directory
 #include "db_tools.h"
                      ^
compilation terminated.
Compile failed: g++ -I/usr/local/include -I./include -I/usr/include/mysql -O0 -g2 -Wno-error -g -pipe -Wall -feliminate-unused-debug-symbols -fno-strict-aliasing -Wno-invalid-offsetof -fpic -c src/ats_event_handler.cpp -o src/ats_event_handler.lo
make: *** [banjax] Error 1
[vmon@telly banjax]$ make BASEDIR=/usr/local
"/usr/local/bin/tsxs" -o banjax.so -I "./include" -I "/usr/include/mysql" -l re2 -l zmq -l config++ -C src/*.cpp
  compiling src/ats_event_handler.cpp -> src/ats_event_handler.lo
  compiling src/banjax_continuation.cpp -> src/banjax_continuation.lo
  compiling src/banjax.cpp -> src/banjax.lo
  compiling src/regex_manager.cpp -> src/regex_manager.lo
  compiling src/swabber_interface.cpp -> src/swabber_interface.lo
  compiling src/util.cpp -> src/util.lo
  linking -> banjax.so
[vmon@telly banjax]$ git status
# On branch staging
# Changes to be committed:
#   (use "git reset HEAD <file>..." to unstage)
#
#	modified:   Makefile
#	renamed:    src/db_tools.cpp -> ../db_tools/db_tools.cpp
#	renamed:    include/db_tools.h -> ../db_tools/db_tools.h
#
# Changes not staged for commit:
#   (use "git add <file>..." to update what will be committed)
#   (use "git checkout -- <file>..." to discard changes in working directory)
#
#	modified:   src/ats_event_handler.cpp
#	modified:   src/regex_manager.cpp
#
[vmon@telly banjax]$ git add .
[vmon@telly banjax]$ git status
# On branch staging
# Changes to be committed:
#   (use "git reset HEAD <file>..." to unstage)
#
#	modified:   Makefile
#	modified:   src/ats_event_handler.cpp
#	modified:   src/regex_manager.cpp
#	renamed:    src/db_tools.cpp -> ../db_tools/db_tools.cpp
#	renamed:    include/db_tools.h -> ../db_tools/db_tools.h
#
[vmon@telly banjax]$ git commit -m "got rid of mysqlclient and includes"
[staging c93cfb8] got rid of mysqlclient and includes
 5 files changed, 1 insertion(+), 8 deletions(-)
 rename {banjax/src => db_tools}/db_tools.cpp (100%)
 rename {banjax/include => db_tools}/db_tools.h (100%)
[vmon@telly banjax]$ tsxs -o banjax.so -i
  installing banjax.so -> /usr/local/libexec/trafficserver/banjax.so
cp: cannot create regular file ‘/usr/local/libexec/trafficserver/banjax.so’: Permission denied
chmod: changing permissions of ‘/usr/local/libexec/trafficserver/banjax.so’: Operation not permitted
[vmon@telly banjax]$ sudo tsxs -o banjax.so -i
  installing banjax.so -> /usr/local/libexec/trafficserver/banjax.so
[vmon@telly banjax]$ git push --all
Enter passphrase for key '/home/vmon/.ssh/id_rsa_vmon': 
Counting objects: 31, done.
Delta compression using up to 2 threads.
Compressing objects: 100% (15/15), done.
Writing objects: 100% (15/15), 1.39 KiB | 0 bytes/s, done.
Total 15 (delta 11), reused 0 (delta 0)
To git@github.com:/equalitie/deflect
   1b1de59..d99c4ff  f--modular-filters -> f--modular-filters
   1c217b4..c93cfb8  staging -> staging
[vmon@telly banjax]$ cd ..
[vmon@telly deflect]$ cd ..
[vmon@telly ats_lab]$ cd banjax/
[vmon@telly banjax]$ git status
# On branch staging
nothing to commit, working directory clean
[vmon@telly banjax]$ git branch
  f--modular-filters
  master
* staging
[vmon@telly banjax]$ git status
# On branch staging
nothing to commit, working directory clean
[vmon@telly banjax]$ git log
WARNING: terminal is not fully functional
-  (press RETURN)
commit d9dd721dbecd90095f2d5e132b8b213e543c042a
Author: vmon <vmonmoonshine@gmail.com>
Date:   Mon Sep 23 00:16:29 2013 -0600

    adding challenger code manually (patch error)

commit fa02daf4ab9ca0c76b421588424c21b233eb2ad5
Author: vmon <vmonmoonshine@gmail.com>
Date:   Mon Sep 23 00:06:44 2013 -0600

    adding host to url for challenger
    
    Signed-off-by: vmon <vmonmoonshine@gmail.com>

commit 0c4c2a517d872e50f731ba9d4b3f9231ace0a022
Author: vmon <vmonmoonshine@gmail.com>
Date:   Thu Sep 19 09:32:50 2013 -0600

    Moiving banjax from private repo

commit c84e58e8bf67de1ec4b2387e6bc6b79e38603f30
Author: vmon <vmonmoonshine@gmail.com>
Date:   Thu Sep 19 09:28:39 2013 -0600
:q
[vmon@telly banjax]$ git f--modular-filter
[vmon@telly banjax]$ git: 'f--modular-filter' is not a git command. See 'git --help'.
[vmon@telly banjax]$ git checkout f--modular-filter
error: pathspec 'f--modular-filter' did not match any file(s) known to git.
[vmon@telly banjax]$ git checkout f--modular-filters
Switched to branch 'f--modular-filters'
[vmon@telly banjax]$ git log
WARNING: terminal is not fully functional
-  (press RETURN)
commit d9dd721dbecd90095f2d5e132b8b213e543c042a
Author: vmon <vmonmoonshine@gmail.com>
Date:   Mon Sep 23 00:16:29 2013 -0600

    adding challenger code manually (patch error)

commit fa02daf4ab9ca0c76b421588424c21b233eb2ad5
Author: vmon <vmonmoonshine@gmail.com>
Date:   Mon Sep 23 00:06:44 2013 -0600

    adding host to url for challenger
    
    Signed-off-by: vmon <vmonmoonshine@gmail.com>

commit 0c4c2a517d872e50f731ba9d4b3f9231ace0a022
Author: vmon <vmonmoonshine@gmail.com>
Date:   Thu Sep 19 09:32:50 2013 -0600

    Moiving banjax from private repo

commit c84e58e8bf67de1ec4b2387e6bc6b79e38603f30
Author: vmon <vmonmoonshine@gmail.com>
Date:   Thu Sep 19 09:28:39 2013 -0600
:q
[vmon@telly banjax]$ git rm src/db_tools.cpp include/db_tools.h
[vmon@telly banjax]$ rm 'include/db_tools.h'
rm 'src/db_tools.cpp'
[vmon@telly banjax]$ git status
# On branch f--modular-filters
# Changes to be committed:
#   (use "git reset HEAD <file>..." to unstage)
#
#	deleted:    include/db_tools.h
#	deleted:    src/db_tools.cpp
#
# Changes not staged for commit:
#   (use "git add/rm <file>..." to update what will be committed)
#   (use "git checkout -- <file>..." to discard changes in working directory)
#
#	modified:   Makefile
#	modified:   src/ats_event_handler.cpp
#	deleted:    src/ats_event_handler.cpp.orig
#
[vmon@telly banjax]$ git rm src/ats_event_handler.cpp.orig
rm 'src/ats_event_handler.cpp.orig'
[vmon@telly banjax]$ git status
# On branch f--modular-filters
# Changes to be committed:
#   (use "git reset HEAD <file>..." to unstage)
#
#	deleted:    include/db_tools.h
#	deleted:    src/ats_event_handler.cpp.orig
#	deleted:    src/db_tools.cpp
#
# Changes not staged for commit:
#   (use "git add <file>..." to update what will be committed)
#   (use "git checkout -- <file>..." to discard changes in working directory)
#
#	modified:   Makefile
#	modified:   src/ats_event_handler.cpp
#
[vmon@telly banjax]$ git add .
[vmon@telly banjax]$ Make BASEDIR=/usr/local
bash: Make: command not found
[vmon@telly banjax]$ make BASEDIR=/usr/local
"/usr/local/bin/tsxs" -o banjax.so -I "./include" -I "/usr/include/mysql" -l re2 -l zmq -l config++ -C src/*.cpp
  compiling src/ats_event_handler.cpp -> src/ats_event_handler.lo
  compiling src/banjax_continuation.cpp -> src/banjax_continuation.lo
  compiling src/banjax.cpp -> src/banjax.lo
  compiling src/challenge_manager.cpp -> src/challenge_manager.lo
  compiling src/cookie_parser.cpp -> src/cookie_parser.lo
  compiling src/regex_manager.cpp -> src/regex_manager.lo
  compiling src/swabber_interface.cpp -> src/swabber_interface.lo
  compiling src/transaction_muncher.cpp -> src/transaction_muncher.lo
  compiling src/util.cpp -> src/util.lo
  linking -> banjax.so
[vmon@telly banjax]$ git commit -m "got rid of mysqlclient and all code depends on it"
[f--modular-filters 2a6be15] got rid of mysqlclient and all code depends on it
 5 files changed, 1 insertion(+), 781 deletions(-)
 delete mode 100644 include/db_tools.h
 delete mode 100644 src/ats_event_handler.cpp.orig
 delete mode 100644 src/db_tools.cpp
[vmon@telly banjax]$ git status
# On branch f--modular-filters
nothing to commit, working directory clean
[vmon@telly banjax]$ git branch staging
fatal: A branch named 'staging' already exists.
[vmon@telly banjax]$ git checkout staging
Switched to branch 'staging'
[vmon@telly banjax]$ git merge f--modular-filters
Updating d9dd721..2a6be15
Fast-forward
 Makefile                       |   2 +-
 include/db_tools.h             |  81 -----------
 src/ats_event_handler.cpp      |   3 -
 src/ats_event_handler.cpp.orig | 597 -------------------------------------------------------------------------------
 src/db_tools.cpp               |  99 -------------
 5 files changed, 1 insertion(+), 781 deletions(-)
 delete mode 100644 include/db_tools.h
 delete mode 100644 src/ats_event_handler.cpp.orig
 delete mode 100644 src/db_tools.cpp
[vmon@telly banjax]$ git push --all
Enter passphrase for key '/home/vmon/.ssh/id_rsa_vmon': 
Counting objects: 11, done.
Delta compression using up to 2 threads.
Compressing objects: 100% (6/6), done.
Writing objects: 100% (6/6), 516 bytes | 0 bytes/s, done.
Total 6 (delta 5), reused 0 (delta 0)
To github.com:/equalitie/banjax
   d9dd721..2a6be15  f--modular-filters -> f--modular-filters
 ! [rejected]        staging -> staging (fetch first)
error: failed to push some refs to 'github.com:/equalitie/banjax'
hint: Updates were rejected because the remote contains work that you do
hint: not have locally. This is usually caused by another repository pushing
hint: to the same ref. You may want to first integrate the remote changes
hint: (e.g., 'git pull ...') before pushing again.
hint: See the 'Note about fast-forwards' in 'git push --help' for details.
[vmon@telly banjax]$ git push --all
Enter passphrase for key '/home/vmon/.ssh/id_rsa_vmon': 
To github.com:/equalitie/banjax
 ! [rejected]        staging -> staging (fetch first)
error: failed to push some refs to 'github.com:/equalitie/banjax'
hint: Updates were rejected because the remote contains work that you do
hint: not have locally. This is usually caused by another repository pushing
hint: to the same ref. You may want to first integrate the remote changes
hint: (e.g., 'git pull ...') before pushing again.
hint: See the 'Note about fast-forwards' in 'git push --help' for details.
[vmon@telly banjax]$ git fetch staging
fatal: 'staging' does not appear to be a git repository
fatal: Could not read from remote repository.

Please make sure you have the correct access rights
and the repository exists.
[vmon@telly banjax]$ git fetch origin staging
Enter passphrase for key '/home/vmon/.ssh/id_rsa_vmon': 
remote: Counting objects: 11, done.        
remote: Compressing objects: 100% (7/7), done.        
remote: Total 9 (delta 6), reused 5 (delta 2)        
Unpacking objects: 100% (9/9), done.
From github.com:/equalitie/banjax
 * branch            staging    -> FETCH_HEAD
   d9dd721..52abc2f  staging    -> origin/staging
[vmon@telly banjax]$ git status
# On branch staging
nothing to commit, working directory clean
[vmon@telly banjax]$ git push --all
Enter passphrase for key '/home/vmon/.ssh/id_rsa_vmon': 
To github.com:/equalitie/banjax
 ! [rejected]        staging -> staging (non-fast-forward)
error: failed to push some refs to 'github.com:/equalitie/banjax'
hint: Updates were rejected because the tip of your current branch is behind
hint: its remote counterpart. Integrate the remote changes (e.g.
hint: 'git pull ...') before pushing again.
hint: See the 'Note about fast-forwards' in 'git push --help' for details.
[vmon@telly banjax]$ git pull 
Enter passphrase for key '/home/vmon/.ssh/id_rsa_vmon': 
There is no tracking information for the current branch.
Please specify which branch you want to merge with.
See git-pull(1) for details

    git pull <remote> <branch>

If you wish to set tracking information for this branch you can do so with:

    git branch --set-upstream-to=origin/<branch> staging

[vmon@telly banjax]$ git pull origin staging
Enter passphrase for key '/home/vmon/.ssh/id_rsa_vmon': 
From github.com:/equalitie/banjax
 * branch            staging    -> FETCH_HEAD
Auto-merging Makefile
CONFLICT (content): Merge conflict in Makefile
Automatic merge failed; fix conflicts and then commit the result.
[vmon@telly banjax]$ git mergetool 
Merging:
Makefile

Normal merge conflict for 'Makefile':
  {local}: modified file
  {remote}: modified file
*ERROR*: Too dangerous to merge versions of a file visited by another buffer
merge of Makefile failed
[vmon@telly banjax]$ git mergetool 
Merging:
Makefile

Normal merge conflict for 'Makefile':
  {local}: modified file
  {remote}: modified file
nil
[vmon@telly banjax]$ git status
# On branch staging
# All conflicts fixed but you are still merging.
#   (use "git commit" to conclude merge)
#
# Changes to be committed:
#
#	modified:   Makefile
#
# Untracked files:
#   (use "git add <file>..." to include in what will be committed)
#
#	Makefile.orig
[vmon@telly banjax]$ git rm Makefile
error: the following file has changes staged in the index:
    Makefile
(use --cached to keep the file, or -f to force removal)
[vmon@telly banjax]$ git rm Makefile.orig 
fatal: pathspec 'Makefile.orig' did not match any files
[vmon@telly banjax]$ rm Makefile.orig 
[vmon@telly banjax]$ git status
# On branch staging
# All conflicts fixed but you are still merging.
#   (use "git commit" to conclude merge)
#
# Changes to be committed:
#
#	modified:   Makefile
#
[vmon@telly banjax]$ git add .
[vmon@telly banjax]$ git status
# On branch staging
# All conflicts fixed but you are still merging.
#   (use "git commit" to conclude merge)
#
# Changes to be committed:
#
#	modified:   Makefile
#
[vmon@telly banjax]$ git commit -m "resolve the Makefile conflict"
[staging ba94320] resolve the Makefile conflict
[vmon@telly banjax]$ git log
WARNING: terminal is not fully functional
-  (press RETURN)
commit ba94320307168f489f833b29276dee484e835606
Merge: 2a6be15 52abc2f
Author: vmon <vmonmoonshine@gmail.com>
Date:   Tue Sep 24 16:01:36 2013 -0600

    resolve the Makefile conflict

commit 2a6be15433510bcf237978c6f12b7aeaa353feda
Author: vmon <vmonmoonshine@gmail.com>
Date:   Tue Sep 24 15:55:49 2013 -0600

    got rid of mysqlclient and all code depends on it

commit 52abc2fd0446a488380c6b4d357d73d89dbcef08
Author: Hugh Nowlan <nosmo@netsoc.tcd.ie>
Date:   Tue Sep 24 17:41:13 2013 +0100

    We do need libmysql :(

commit 2b7ca28a5071399b0aabe09a33901be64942a48d
Author: Hugh Nowlan <nosmo@netsoc.tcd.ie>
Date:   Tue Sep 24 17:12:40 2013 +0100

:q
[vmon@telly banjax]$ git push --all
[vmon@telly banjax]$ Enter passphrase for key '/home/vmon/.ssh/id_rsa_vmon': 
Counting objects: 7, done.
Delta compression using up to 2 threads.
Compressing objects: 100% (3/3), done.
Writing objects: 100% (3/3), 331 bytes | 0 bytes/s, done.
Total 3 (delta 2), reused 0 (delta 0)
To github.com:/equalitie/banjax
   52abc2f..ba94320  staging -> staging
[vmon@telly banjax]$ git status
# On branch staging
nothing to commit, working directory clean
[vmon@telly banjax]$ git push --all
Enter passphrase for key '/home/vmon/.ssh/id_rsa_vmon': 
Everything up-to-date
[vmon@telly banjax]$ tsxs -o banjax.so -i
  installing banjax.so -> /usr/local/libexec/trafficserver/banjax.so
cp: cannot create regular file ‘/usr/local/libexec/trafficserver/banjax.so’: Permission denied
chmod: changing permissions of ‘/usr/local/libexec/trafficserver/banjax.so’: Operation not permitted
[vmon@telly banjax]$ make
"/usr//bin/tsxs" -o banjax.so -I "./include" -I "/usr/include/mysql" -l re2 -l zmq -l config++ -C src/*.cpp
/bin/sh: /usr//bin/tsxs: No such file or directory
make: *** [banjax] Error 127
[vmon@telly banjax]$ make BASEDIR=/usr/local
"/usr/local/bin/tsxs" -o banjax.so -I "./include" -I "/usr/include/mysql" -l re2 -l zmq -l config++ -C src/*.cpp
  compiling src/ats_event_handler.cpp -> src/ats_event_handler.lo
  compiling src/banjax_continuation.cpp -> src/banjax_continuation.lo
  compiling src/banjax.cpp -> src/banjax.lo
  compiling src/challenge_manager.cpp -> src/challenge_manager.lo
  compiling src/cookie_parser.cpp -> src/cookie_parser.lo
  compiling src/regex_manager.cpp -> src/regex_manager.lo
  compiling src/swabber_interface.cpp -> src/swabber_interface.lo
  compiling src/transaction_muncher.cpp -> src/transaction_muncher.lo
  compiling src/util.cpp -> src/util.lo
  linking -> banjax.so
[vmon@telly banjax]$ tsxs -o banjax.so -i
  installing banjax.so -> /usr/local/libexec/trafficserver/banjax.so
cp: cannot create regular file ‘/usr/local/libexec/trafficserver/banjax.so’: Permission denied
chmod: changing permissions of ‘/usr/local/libexec/trafficserver/banjax.so’: Operation not permitted
[vmon@telly banjax]$ sudo tsxs -o banjax.so -i
  installing banjax.so -> /usr/local/libexec/trafficserver/banjax.so
[vmon@telly banjax]$ sudo pacman -Ql gtest
  C-c C-c
Interrupt signal received

[vmon@telly banjax]$ sudo pacman -Ss gtest
community/gtest 1.6.0-7
    Google Test - C++ testing utility based on the xUnit framework (like JUnit)
[vmon@telly banjax]$ sudo pacman install gtest
error: no operation specified (use -h for help)
[vmon@telly banjax]$ sudo pacman S gtest
error: no operation specified (use -h for help)
[vmon@telly banjax]$ sudo pacman help
error: no operation specified (use -h for help)
[vmon@telly banjax]$ sudo pacman 
error: no operation specified (use -h for help)
[vmon@telly banjax]$ sudo pacman -h
usage:  pacman <operation> [...]
operations:
    pacman {-h --help}
    pacman {-V --version}
    pacman {-D --database} <options> <package(s)>
    pacman {-Q --query}    [options] [package(s)]
    pacman {-R --remove}   [options] <package(s)>
    pacman {-S --sync}     [options] [package(s)]
    pacman {-T --deptest}  [options] [package(s)]
    pacman {-U --upgrade}  [options] <file(s)>

use 'pacman {-h --help}' with an operation for available options
[vmon@telly banjax]$ sudo pacman -S gtest
resolving dependencies...
looking for inter-conflicts...

Packages (1): gtest-1.6.0-7

Total Download Size:    0.23 MiB
Total Installed Size:   2.29 MiB

:: Proceed with installation? [Y/n] Y
:: Retrieving packages ...
 gtest-1.6.0-7-x86_64     233.2 KiB   184K/s 00:01 [######################] 100%
(1/1) checking keys in keyring                     [######################] 100%
(1/1) checking package integrity                   [######################] 100%
(1/1) loading package files                        [######################] 100%
(1/1) checking for file conflicts                  [######################] 100%
(1/1) checking available disk space                [######################] 100%
(1/1) installing gtest                             [######################] 100%
[vmon@telly banjax]$ cd ..
[vmon@telly ats_lab]$ cd ..
[vmon@telly deflect]$ cd ..
[vmon@telly code]$ cd tor
[vmon@telly tor]$ ls
2013-01-23-DRAFT-grant-budget.ods                                        ooni-probe
2013-01-23-draft-Technology Partner Grant Application - Open Source.odt  papers
2013-01-23-FINAL-Technology Partner Grant Application - Open Source.pdf  pcaputils
allmyjpgs.txt                                                            pypcap
biquad-attack                                                            scramblesuit
bridges.txt                                                              setup_stegotorus.sh
comm                                                                     stegotorus
configure.ac                                                             Stegotorus-Improvement.org~
demystegofier                                                            Stegotorus-Improvements.org
flashproxy                                                               Stegotorus-Improvements.pdf
fp                                                                       Stegotorus-Improvements.txt
gtest-1.7.0.zip                                                          Stegotorus-Improvements.txt~
http-parser                                                              Stegotorus-Improvement.txt
ir-check                                                                 stegotorus.tar.bz2
libevent-2.0.19-stable                                                   st_improve
libevent-2.0.19-stable.tar.gz                                            st_ver_comp_lab
libpcap-1.3.0                                                            support
libpcap_1.3.0.orig.tar.gz                                                tor-0.2.4.3-alpha
Makefile.am                                                              txtorcon
Objective4.odt
[vmon@telly tor]$ ls gtest-1.7.0.zip -l
-rw-r--r-- 1 vmon users 1164254 Sep 25 02:43 gtest-1.7.0.zip
[vmon@telly tor]$ mv gtest-1.7.0.zip ~/src/
[vmon@telly tor]$ ls
2013-01-23-DRAFT-grant-budget.ods                                        ooni-probe
2013-01-23-draft-Technology Partner Grant Application - Open Source.odt  papers
2013-01-23-FINAL-Technology Partner Grant Application - Open Source.pdf  pcaputils
allmyjpgs.txt                                                            pypcap
biquad-attack                                                            scramblesuit
bridges.txt                                                              setup_stegotorus.sh
comm                                                                     stegotorus
configure.ac                                                             Stegotorus-Improvement.org~
demystegofier                                                            Stegotorus-Improvements.org
flashproxy                                                               Stegotorus-Improvements.pdf
fp                                                                       Stegotorus-Improvements.txt
http-parser                                                              Stegotorus-Improvements.txt~
ir-check                                                                 Stegotorus-Improvement.txt
libevent-2.0.19-stable                                                   stegotorus.tar.bz2
libevent-2.0.19-stable.tar.gz                                            st_improve
libpcap-1.3.0                                                            st_ver_comp_lab
libpcap_1.3.0.orig.tar.gz                                                support
Makefile.am                                                              tor-0.2.4.3-alpha
Objective4.odt                                                           txtorcon
[vmon@telly tor]$ cd stegotorus/
[vmon@telly stegotorus]$ git status
# On branch tor-improve
# All conflicts fixed but you are still merging.
#   (use "git commit" to conclude merge)
#
# Changes to be committed:
#
#	modified:   Makefile.am
#	new file:   doc/handshake.txt
#	modified:   src/crypt.cc
#	modified:   src/crypt.h
#	modified:   src/protocol.h
#	modified:   src/protocol/chop.cc
#	modified:   src/protocol/chop_blk.cc
#	modified:   src/protocol/chop_blk.h
#	new file:   src/protocol/chop_handshaker.h
#	new file:   src/protocol/transparent_circuit.h
#	deleted:    src/steg/apache_payload_server. cc
#	modified:   src/steg/apache_payload_server.cc
#	modified:   src/steg/apache_payload_server.h
#	modified:   src/steg/http.cc
#	modified:   src/steg/http_apache.cc
#	modified:   src/steg/payload_scraper.cc
#	modified:   src/steg/payload_scraper.h
#	modified:   src/test/tester_proxy/tester_proxy.cc
#	new file:   src/transparent_proxy.cc
#	new file:   src/transparent_proxy.h
#
# Changes not staged for commit:
#   (use "git add/rm <file>..." to update what will be committed)
#   (use "git checkout -- <file>..." to discard changes in working directory)
#
#	modified:   src/protocol/chop.cc.orig
#	deleted:    src/steg/apache_payload_server.cc.orig
#	deleted:    src/steg/http.cc.orig
#	modified:   src/steg/http_apache.cc
#	modified:   src/steg/http_steg_mods/file_steg.cc
#	modified:   src/steg/http_steg_mods/file_steg.h
#	deleted:    src/steg/payload_scraper.cc.orig
#	modified:   src/steg/payload_server.cc
#
[vmon@telly stegotorus]$ git add .
warning: You ran 'git add' with neither '-A (--all)' or '--ignore-removal',
whose behaviour will change in Git 2.0 with respect to paths you removed.
Paths like 'src/steg/apache_payload_server.cc.orig' that are
removed from your working tree are ignored with this version of Git.

* 'git add --ignore-removal <pathspec>', which is the current default,
  ignores paths you removed from your working tree.

* 'git add --all <pathspec>' will let you also record the removals.

Run 'git status' to check the paths you removed from your working tree.

[vmon@telly stegotorus]$ git status
# On branch tor-improve
# All conflicts fixed but you are still merging.
#   (use "git commit" to conclude merge)
#
# Changes to be committed:
#
#	modified:   Makefile.am
#	new file:   doc/handshake.txt
#	modified:   src/crypt.cc
#	modified:   src/crypt.h
#	modified:   src/protocol.h
#	modified:   src/protocol/chop.cc
#	modified:   src/protocol/chop.cc.orig
#	modified:   src/protocol/chop_blk.cc
#	modified:   src/protocol/chop_blk.h
#	new file:   src/protocol/chop_handshaker.h
#	new file:   src/protocol/transparent_circuit.h
#	deleted:    src/steg/apache_payload_server. cc
#	modified:   src/steg/apache_payload_server.cc
#	modified:   src/steg/apache_payload_server.h
#	modified:   src/steg/http.cc
#	modified:   src/steg/http_apache.cc
#	modified:   src/steg/http_steg_mods/file_steg.cc
#	modified:   src/steg/http_steg_mods/file_steg.h
#	modified:   src/steg/payload_scraper.cc
#	modified:   src/steg/payload_scraper.h
#	modified:   src/steg/payload_server.cc
#	modified:   src/test/tester_proxy/tester_proxy.cc
#	new file:   src/transparent_proxy.cc
#	new file:   src/transparent_proxy.h
#
# Changes not staged for commit:
#   (use "git add/rm <file>..." to update what will be committed)
#   (use "git checkout -- <file>..." to discard changes in working directory)
#
#	deleted:    src/steg/apache_payload_server.cc.orig
#	deleted:    src/steg/http.cc.orig
#	deleted:    src/steg/payload_scraper.cc.orig
#
[vmon@telly stegotorus]$ git add --all
[vmon@telly stegotorus]$ git status
# On branch tor-improve
# All conflicts fixed but you are still merging.
#   (use "git commit" to conclude merge)
#
# Changes to be committed:
#
#	modified:   Makefile.am
#	new file:   doc/handshake.txt
#	modified:   src/crypt.cc
#	modified:   src/crypt.h
#	modified:   src/protocol.h
#	modified:   src/protocol/chop.cc
#	modified:   src/protocol/chop.cc.orig
#	modified:   src/protocol/chop_blk.cc
#	modified:   src/protocol/chop_blk.h
#	new file:   src/protocol/chop_handshaker.h
#	new file:   src/protocol/transparent_circuit.h
#	deleted:    src/steg/apache_payload_server. cc
#	modified:   src/steg/apache_payload_server.cc
#	deleted:    src/steg/apache_payload_server.cc.orig
#	modified:   src/steg/apache_payload_server.h
#	modified:   src/steg/http.cc
#	deleted:    src/steg/http.cc.orig
#	modified:   src/steg/http_apache.cc
#	modified:   src/steg/http_steg_mods/file_steg.cc
#	modified:   src/steg/http_steg_mods/file_steg.h
#	modified:   src/steg/payload_scraper.cc
#	deleted:    src/steg/payload_scraper.cc.orig
#	modified:   src/steg/payload_scraper.h
#	modified:   src/steg/payload_server.cc
#	modified:   src/test/tester_proxy/tester_proxy.cc
#	new file:   src/transparent_proxy.cc
#	new file:   src/transparent_proxy.h
#
[vmon@telly stegotorus]$ git commit -m "merge the handshaker and filesteg and some bug fix for filesteg"
[tor-improve 0be662d] merge the handshaker and filesteg and some bug fix for filesteg
[vmon@telly stegotorus]$ cd src/test/
[vmon@telly test]$ ls
genunitgrps.sh         test_socks.pyc     tl_oneway_c2s       unittest_compression.cc  unittest_pdfsteg.o
http_parser_tester.cc  test_tl.py         tl_oneway_s2c       unittest_compression.o   unittest_socks.cc
itestlib.py            test_tl.py~        tl_snark            unittest_crypt.cc        unittest_socks.o
itestlib.py~           test_tl.pyc        tltester.cc         unittest_crypt.o         webpage_tester.cc
itestlib.pyc           tinytest.cc        tltester.cc~        unittest.h               webpage_tester.cc~
jpeg_steg_test.cc      tinytest.h         tltester.o          unittest_JScapacity.cc   webpage_tester.cc.orig
testbuf                tinytest_macros.h  unittest_base64.cc  unittest_JScapacity.cc~  webpage_tester.o
tester_proxy           tinytest.o         unittest_base64.o   unittest.o
test_socks.py          #tl_oneway_c2s#    unittest.cc         unittest_pdfsteg.cc
[vmon@telly test]$ cd testbuf/
[vmon@telly testbuf]$ ls
[vmon@telly testbuf]$ cd ..
[vmon@telly test]$ rm testbuf/
rm: cannot remove ‘testbuf/’: Is a directory
[vmon@telly test]$ cd ls
bash: cd: ls: No such file or directory
[vmon@telly test]$ mkdir steg_test
[vmon@telly test]$ cd steg_test/
[vmon@telly steg_test]$ pwd
/home/vmon/doc/code/tor/stegotorus/src/test/steg_test
[vmon@telly steg_test]$ mv test.png test1.png
[vmon@telly steg_test]$ cd /home/vmon/doc/code/tor/stegotorus/src/test/steg_test/
[vmon@telly steg_test]$ ls
pngSteg_unittest.cc  pngSteg_unittest.cc~  test1.png  test2.png
[vmon@telly steg_test]$ g++ pngSteg_unittest.cc
pngSteg_unittest.cc:49:21: fatal error: pngSteg.h: No such file or directory
 #include "pngSteg.h"
                     ^
compilation terminated.
[vmon@telly steg_test]$ g++ -I../../steg/ -I../../steg/http_steg_mods -I../ pngSteg_unittest.cc
In file included from pngSteg_unittest.cc:49:0:
../../steg/http_steg_mods/pngSteg.h:28:3: error: ‘uint8_t’ does not name a type
   uint8_t* chunk_offset;
   ^
../../steg/http_steg_mods/pngSteg.h:29:3: error: ‘uint8_t’ does not name a type
   uint8_t* payload_end;
   ^
../../steg/http_steg_mods/pngSteg.h:30:22: warning: non-static data member initializers only available with -std=c++11 or -std=gnu++11 [enabled by default]
   const char* type = "IDAT";
                      ^
../../steg/http_steg_mods/pngSteg.h:43:3: error: ‘uint8_t’ does not name a type
   uint8_t* get_next_IDAT_chunk(PNGChunkData* next_chunk)
   ^
../../steg/http_steg_mods/pngSteg.h:80:23: error: expected ‘)’ before ‘*’ token
   PNGChunkData(uint8_t* cur_chunk_offset, uint8_t* payload_end)
                       ^
In file included from ../../steg/http_steg_mods/pngSteg.h:12:0,
                 from pngSteg_unittest.cc:49:
../../steg/http_steg_mods/pngSteg.h: In member function ‘void PNGChunkData::compute_length()’:
../../steg/http_steg_mods/pngSteg.h:23:12: error: ‘chunk_offset’ was not declared in this scope
     assert(chunk_offset);
            ^
In file included from pngSteg_unittest.cc:49:0:
../../steg/http_steg_mods/pngSteg.h: In constructor ‘PNGChunkData::PNGChunkData()’:
../../steg/http_steg_mods/pngSteg.h:68:6: error: class ‘PNGChunkData’ does not have any field named ‘chunk_offset’
     :chunk_offset(0), payload_end(0),length(0)
      ^
../../steg/http_steg_mods/pngSteg.h:68:23: error: class ‘PNGChunkData’ does not have any field named ‘payload_end’
     :chunk_offset(0), payload_end(0),length(0)
                       ^
../../steg/http_steg_mods/pngSteg.h: At global scope:
../../steg/http_steg_mods/pngSteg.h:95:1: error: expected class-name before ‘{’ token
 {
 ^
../../steg/http_steg_mods/pngSteg.h:106:33: error: ‘uint8_t’ does not name a type
  virtual ssize_t capacity(const uint8_t *buffer, size_t len);
                                 ^
../../steg/http_steg_mods/pngSteg.h:106:42: error: ISO C++ forbids declaration of ‘buffer’ with no type [-fpermissive]
  virtual ssize_t capacity(const uint8_t *buffer, size_t len);
                                          ^
../../steg/http_steg_mods/pngSteg.h:112:25: error: expected ‘)’ before ‘*’ token
    PNGSteg(PayloadServer* payload_provider, double noise2signal = 0);
                         ^
../../steg/http_steg_mods/pngSteg.h:115:10: error: ‘string’ does not name a type
    const string c_data_chunk_type = "IDAT";
          ^
../../steg/http_steg_mods/pngSteg.h:118:23: error: ‘uint8_t’ has not been declared
    virtual int encode(uint8_t* data, size_t data_len, uint8_t* cover_payload, size_t cover_len);
                       ^
../../steg/http_steg_mods/pngSteg.h:118:55: error: ‘uint8_t’ has not been declared
    virtual int encode(uint8_t* data, size_t data_len, uint8_t* cover_payload, size_t cover_len);
                                                       ^
../../steg/http_steg_mods/pngSteg.h:120:31: error: ‘uint8_t’ does not name a type
  virtual ssize_t decode(const uint8_t* cover_payload, size_t cover_len, uint8_t* data);
                               ^
../../steg/http_steg_mods/pngSteg.h:120:40: error: ISO C++ forbids declaration of ‘cover_payload’ with no type [-fpermissive]
  virtual ssize_t decode(const uint8_t* cover_payload, size_t cover_len, uint8_t* data);
                                        ^
../../steg/http_steg_mods/pngSteg.h:120:73: error: ‘uint8_t’ has not been declared
  virtual ssize_t decode(const uint8_t* cover_payload, size_t cover_len, uint8_t* data);
                                                                         ^
pngSteg_unittest.cc: In member function ‘virtual void pngStegTest_encode_decode_Test::TestBody()’:
pngSteg_unittest.cc:86:61: error: no matching function for call to ‘std::basic_ifstream<char>::basic_ifstream(const char [10], const openmode&, const openmode&)’
   ifstream png_test_cover("test1.png", ios::binary, ios::ate);
                                                             ^
pngSteg_unittest.cc:86:61: note: candidates are:
In file included from pngSteg_unittest.cc:47:0:
/usr/include/c++/4.8.1/fstream:467:7: note: std::basic_ifstream<_CharT, _Traits>::basic_ifstream(const char*, std::ios_base::openmode) [with _CharT = char; _Traits = std::char_traits<char>; std::ios_base::openmode = std::_Ios_Openmode]
       basic_ifstream(const char* __s, ios_base::openmode __mode = ios_base::in)
       ^
/usr/include/c++/4.8.1/fstream:467:7: note:   candidate expects 2 arguments, 3 provided
/usr/include/c++/4.8.1/fstream:453:7: note: std::basic_ifstream<_CharT, _Traits>::basic_ifstream() [with _CharT = char; _Traits = std::char_traits<char>]
       basic_ifstream() : __istream_type(), _M_filebuf()
       ^
/usr/include/c++/4.8.1/fstream:453:7: note:   candidate expects 0 arguments, 3 provided
/usr/include/c++/4.8.1/fstream:427:11: note: std::basic_ifstream<char>::basic_ifstream(const std::basic_ifstream<char>&)
     class basic_ifstream : public basic_istream<_CharT, _Traits>
           ^
/usr/include/c++/4.8.1/fstream:427:11: note:   candidate expects 1 argument, 3 provided
pngSteg_unittest.cc:91:3: error: ‘uint8_t’ was not declared in this scope
   uint8_t* cover_payload = new uint8_t[cover_len];
   ^
pngSteg_unittest.cc:91:12: error: ‘cover_payload’ was not declared in this scope
   uint8_t* cover_payload = new uint8_t[cover_len];
            ^
pngSteg_unittest.cc:91:32: error: expected type-specifier before ‘uint8_t’
   uint8_t* cover_payload = new uint8_t[cover_len];
                                ^
pngSteg_unittest.cc:91:32: error: expected ‘;’ before ‘uint8_t’
pngSteg_unittest.cc:96:3: error: ‘png_test’ was not declared in this scope
   png_test.read (cover_payload, cover_len);
   ^
pngSteg_unittest.cc:100:11: error: expected ‘;’ before ‘test_phrase’
   uint8_t test_phrase[] = "There are 10 types of people in the world: those who understand binary, and those who don'
           ^
pngSteg_unittest.cc:101:28: error: ‘test_phrase’ was not declared in this scope
   size_t data_len = strlen(test_phrase)+1
                            ^
In file included from /usr/include/gtest/gtest.h:1798:0,
                 from pngSteg_unittest.cc:50:
pngSteg_unittest.cc:109:3: error: template argument 1 is invalid
   EXPECT_EQ(strlen(test_phrase)+1, test_steg.decode(cover_payload, cover_len, recovered_phrase));
   ^
pngSteg_unittest.cc:109:79: error: ‘recovered_phrase’ was not declared in this scope
   EXPECT_EQ(strlen(test_phrase)+1, test_steg.decode(cover_payload, cover_len, recovered_phrase));
                                                                               ^
In file included from /usr/include/gtest/gtest.h:57:0,
                 from pngSteg_unittest.cc:50:
pngSteg_unittest.cc:110:35: error: ‘recovered_phrase’ was not declared in this scope
   EXPECT_FALSE(memcmp(test_phrase,recovered_phrase, data_len));
                                   ^
[vmon@telly steg_test]$ g++ -I../../steg/ -I../../steg/http_steg_mods -I../ pngSteg_unittest.cc
In file included from /usr/include/c++/4.8.1/cstdint:35:0,
                 from pngSteg_unittest.cc:48:
/usr/include/c++/4.8.1/bits/c++0x_warning.h:32:2: error: #error This file requires compiler and library support for the ISO C++ 2011 standard. This support is currently experimental, and must be enabled with the -std=c++11 or -std=gnu++11 compiler options.
 #error This file requires compiler and library support for the \
  ^
In file included from pngSteg_unittest.cc:50:0:
../../steg/http_steg_mods/pngSteg.h:28:3: error: ‘uint8_t’ does not name a type
   uint8_t* chunk_offset;
   ^
../../steg/http_steg_mods/pngSteg.h:29:3: error: ‘uint8_t’ does not name a type
   uint8_t* payload_end;
   ^
../../steg/http_steg_mods/pngSteg.h:30:22: warning: non-static data member initializers only available with -std=c++11 or -std=gnu++11 [enabled by default]
   const char* type = "IDAT";
                      ^
../../steg/http_steg_mods/pngSteg.h:43:3: error: ‘uint8_t’ does not name a type
   uint8_t* get_next_IDAT_chunk(PNGChunkData* next_chunk)
   ^
../../steg/http_steg_mods/pngSteg.h:80:23: error: expected ‘)’ before ‘*’ token
   PNGChunkData(uint8_t* cur_chunk_offset, uint8_t* payload_end)
                       ^
In file included from ../../steg/http_steg_mods/pngSteg.h:12:0,
                 from pngSteg_unittest.cc:50:
../../steg/http_steg_mods/pngSteg.h: In member function ‘void PNGChunkData::compute_length()’:
../../steg/http_steg_mods/pngSteg.h:23:12: error: ‘chunk_offset’ was not declared in this scope
     assert(chunk_offset);
            ^
In file included from pngSteg_unittest.cc:50:0:
../../steg/http_steg_mods/pngSteg.h: In constructor ‘PNGChunkData::PNGChunkData()’:
../../steg/http_steg_mods/pngSteg.h:68:6: error: class ‘PNGChunkData’ does not have any field named ‘chunk_offset’
     :chunk_offset(0), payload_end(0),length(0)
      ^
../../steg/http_steg_mods/pngSteg.h:68:23: error: class ‘PNGChunkData’ does not have any field named ‘payload_end’
     :chunk_offset(0), payload_end(0),length(0)
                       ^
../../steg/http_steg_mods/pngSteg.h: At global scope:
../../steg/http_steg_mods/pngSteg.h:95:1: error: expected class-name before ‘{’ token
 {
 ^
../../steg/http_steg_mods/pngSteg.h:106:33: error: ‘uint8_t’ does not name a type
  virtual ssize_t capacity(const uint8_t *buffer, size_t len);
                                 ^
../../steg/http_steg_mods/pngSteg.h:106:42: error: ISO C++ forbids declaration of ‘buffer’ with no type [-fpermissive]
  virtual ssize_t capacity(const uint8_t *buffer, size_t len);
                                          ^
../../steg/http_steg_mods/pngSteg.h:112:25: error: expected ‘)’ before ‘*’ token
    PNGSteg(PayloadServer* payload_provider, double noise2signal = 0);
                         ^
../../steg/http_steg_mods/pngSteg.h:115:10: error: ‘string’ does not name a type
    const string c_data_chunk_type = "IDAT";
          ^
../../steg/http_steg_mods/pngSteg.h:118:23: error: ‘uint8_t’ has not been declared
    virtual int encode(uint8_t* data, size_t data_len, uint8_t* cover_payload, size_t cover_len);
                       ^
../../steg/http_steg_mods/pngSteg.h:118:55: error: ‘uint8_t’ has not been declared
    virtual int encode(uint8_t* data, size_t data_len, uint8_t* cover_payload, size_t cover_len);
                                                       ^
../../steg/http_steg_mods/pngSteg.h:120:31: error: ‘uint8_t’ does not name a type
  virtual ssize_t decode(const uint8_t* cover_payload, size_t cover_len, uint8_t* data);
                               ^
../../steg/http_steg_mods/pngSteg.h:120:40: error: ISO C++ forbids declaration of ‘cover_payload’ with no type [-fpermissive]
  virtual ssize_t decode(const uint8_t* cover_payload, size_t cover_len, uint8_t* data);
                                        ^
../../steg/http_steg_mods/pngSteg.h:120:73: error: ‘uint8_t’ has not been declared
  virtual ssize_t decode(const uint8_t* cover_payload, size_t cover_len, uint8_t* data);
                                                                         ^
pngSteg_unittest.cc: In member function ‘virtual void pngStegTest_encode_decode_Test::TestBody()’:
pngSteg_unittest.cc:60:61: error: no matching function for call to ‘std::basic_ifstream<char>::basic_ifstream(const char [10], const openmode&, const openmode&)’
   ifstream png_test_cover("test1.png", ios::binary, ios::ate);
                                                             ^
pngSteg_unittest.cc:60:61: note: candidates are:
In file included from pngSteg_unittest.cc:47:0:
/usr/include/c++/4.8.1/fstream:467:7: note: std::basic_ifstream<_CharT, _Traits>::basic_ifstream(const char*, std::ios_base::openmode) [with _CharT = char; _Traits = std::char_traits<char>; std::ios_base::openmode = std::_Ios_Openmode]
       basic_ifstream(const char* __s, ios_base::openmode __mode = ios_base::in)
       ^
/usr/include/c++/4.8.1/fstream:467:7: note:   candidate expects 2 arguments, 3 provided
/usr/include/c++/4.8.1/fstream:453:7: note: std::basic_ifstream<_CharT, _Traits>::basic_ifstream() [with _CharT = char; _Traits = std::char_traits<char>]
       basic_ifstream() : __istream_type(), _M_filebuf()
       ^
/usr/include/c++/4.8.1/fstream:453:7: note:   candidate expects 0 arguments, 3 provided
/usr/include/c++/4.8.1/fstream:427:11: note: std::basic_ifstream<char>::basic_ifstream(const std::basic_ifstream<char>&)
     class basic_ifstream : public basic_istream<_CharT, _Traits>
           ^
/usr/include/c++/4.8.1/fstream:427:11: note:   candidate expects 1 argument, 3 provided
pngSteg_unittest.cc:65:3: error: ‘uint8_t’ was not declared in this scope
   uint8_t* cover_payload = new uint8_t[cover_len];
   ^
pngSteg_unittest.cc:65:12: error: ‘cover_payload’ was not declared in this scope
   uint8_t* cover_payload = new uint8_t[cover_len];
            ^
pngSteg_unittest.cc:65:32: error: expected type-specifier before ‘uint8_t’
   uint8_t* cover_payload = new uint8_t[cover_len];
                                ^
pngSteg_unittest.cc:65:32: error: expected ‘;’ before ‘uint8_t’
pngSteg_unittest.cc:70:3: error: ‘png_test’ was not declared in this scope
   png_test.read (cover_payload, cover_len);
   ^
pngSteg_unittest.cc:74:11: error: expected ‘;’ before ‘test_phrase’
   uint8_t test_phrase[] = "There are 10 types of people in the world: those who understand binary, and those who don'
           ^
pngSteg_unittest.cc:75:28: error: ‘test_phrase’ was not declared in this scope
   size_t data_len = strlen(test_phrase)+1
                            ^
In file included from /usr/include/gtest/gtest.h:1798:0,
                 from pngSteg_unittest.cc:51:
pngSteg_unittest.cc:83:3: error: template argument 1 is invalid
   EXPECT_EQ(strlen(test_phrase)+1, test_steg.decode(cover_payload, cover_len, recovered_phrase));
   ^
pngSteg_unittest.cc:83:79: error: ‘recovered_phrase’ was not declared in this scope
   EXPECT_EQ(strlen(test_phrase)+1, test_steg.decode(cover_payload, cover_len, recovered_phrase));
                                                                               ^
In file included from /usr/include/gtest/gtest.h:57:0,
                 from pngSteg_unittest.cc:51:
pngSteg_unittest.cc:84:35: error: ‘recovered_phrase’ was not declared in this scope
   EXPECT_FALSE(memcmp(test_phrase,recovered_phrase, data_len));
                                   ^
[vmon@telly steg_test]$ g++ -I../../steg/ -I../../steg/http_steg_mods -I../ pngSteg_unittest.cc
In file included from /usr/include/c++/4.8.1/cstdint:35:0,
                 from pngSteg_unittest.cc:32:
/usr/include/c++/4.8.1/bits/c++0x_warning.h:32:2: error: #error This file requires compiler and library support for the ISO C++ 2011 standard. This support is currently experimental, and must be enabled with the -std=c++11 or -std=gnu++11 compiler options.
 #error This file requires compiler and library support for the \
  ^
In file included from pngSteg_unittest.cc:36:0:
../../steg/http_steg_mods/pngSteg.h:28:3: error: ‘uint8_t’ does not name a type
   uint8_t* chunk_offset;
   ^
../../steg/http_steg_mods/pngSteg.h:29:3: error: ‘uint8_t’ does not name a type
   uint8_t* payload_end;
   ^
../../steg/http_steg_mods/pngSteg.h:30:22: warning: non-static data member initializers only available with -std=c++11 or -std=gnu++11 [enabled by default]
   const char* type = "IDAT";
                      ^
../../steg/http_steg_mods/pngSteg.h:43:3: error: ‘uint8_t’ does not name a type
   uint8_t* get_next_IDAT_chunk(PNGChunkData* next_chunk)
   ^
../../steg/http_steg_mods/pngSteg.h:80:23: error: expected ‘)’ before ‘*’ token
   PNGChunkData(uint8_t* cur_chunk_offset, uint8_t* payload_end)
                       ^
In file included from ../../steg/http_steg_mods/pngSteg.h:12:0,
                 from pngSteg_unittest.cc:36:
../../steg/http_steg_mods/pngSteg.h: In member function ‘void PNGChunkData::compute_length()’:
../../steg/http_steg_mods/pngSteg.h:23:12: error: ‘chunk_offset’ was not declared in this scope
     assert(chunk_offset);
            ^
In file included from pngSteg_unittest.cc:36:0:
../../steg/http_steg_mods/pngSteg.h: In constructor ‘PNGChunkData::PNGChunkData()’:
../../steg/http_steg_mods/pngSteg.h:68:6: error: class ‘PNGChunkData’ does not have any field named ‘chunk_offset’
     :chunk_offset(0), payload_end(0),length(0)
      ^
../../steg/http_steg_mods/pngSteg.h:68:23: error: class ‘PNGChunkData’ does not have any field named ‘payload_end’
     :chunk_offset(0), payload_end(0),length(0)
                       ^
../../steg/http_steg_mods/pngSteg.h: At global scope:
../../steg/http_steg_mods/pngSteg.h:95:1: error: expected class-name before ‘{’ token
 {
 ^
../../steg/http_steg_mods/pngSteg.h:106:33: error: ‘uint8_t’ does not name a type
  virtual ssize_t capacity(const uint8_t *buffer, size_t len);
                                 ^
../../steg/http_steg_mods/pngSteg.h:106:42: error: ISO C++ forbids declaration of ‘buffer’ with no type [-fpermissive]
  virtual ssize_t capacity(const uint8_t *buffer, size_t len);
                                          ^
../../steg/http_steg_mods/pngSteg.h:112:25: error: expected ‘)’ before ‘*’ token
    PNGSteg(PayloadServer* payload_provider, double noise2signal = 0);
                         ^
../../steg/http_steg_mods/pngSteg.h:115:37: warning: non-static data member initializers only available with -std=c++11 or -std=gnu++11 [enabled by default]
    const string c_data_chunk_type = "IDAT";
                                     ^
../../steg/http_steg_mods/pngSteg.h:118:23: error: ‘uint8_t’ has not been declared
    virtual int encode(uint8_t* data, size_t data_len, uint8_t* cover_payload, size_t cover_len);
                       ^
../../steg/http_steg_mods/pngSteg.h:118:55: error: ‘uint8_t’ has not been declared
    virtual int encode(uint8_t* data, size_t data_len, uint8_t* cover_payload, size_t cover_len);
                                                       ^
../../steg/http_steg_mods/pngSteg.h:120:31: error: ‘uint8_t’ does not name a type
  virtual ssize_t decode(const uint8_t* cover_payload, size_t cover_len, uint8_t* data);
                               ^
../../steg/http_steg_mods/pngSteg.h:120:40: error: ISO C++ forbids declaration of ‘cover_payload’ with no type [-fpermissive]
  virtual ssize_t decode(const uint8_t* cover_payload, size_t cover_len, uint8_t* data);
                                        ^
../../steg/http_steg_mods/pngSteg.h:120:73: error: ‘uint8_t’ has not been declared
  virtual ssize_t decode(const uint8_t* cover_payload, size_t cover_len, uint8_t* data);
                                                                         ^
pngSteg_unittest.cc: In member function ‘virtual void pngStegTest_encode_decode_Test::TestBody()’:
pngSteg_unittest.cc:45:61: error: no matching function for call to ‘std::basic_ifstream<char>::basic_ifstream(const char [10], const openmode&, const openmode&)’
   ifstream png_test_cover("test1.png", ios::binary, ios::ate);
                                                             ^
pngSteg_unittest.cc:45:61: note: candidates are:
In file included from pngSteg_unittest.cc:31:0:
/usr/include/c++/4.8.1/fstream:467:7: note: std::basic_ifstream<_CharT, _Traits>::basic_ifstream(const char*, std::ios_base::openmode) [with _CharT = char; _Traits = std::char_traits<char>; std::ios_base::openmode = std::_Ios_Openmode]
       basic_ifstream(const char* __s, ios_base::openmode __mode = ios_base::in)
       ^
/usr/include/c++/4.8.1/fstream:467:7: note:   candidate expects 2 arguments, 3 provided
/usr/include/c++/4.8.1/fstream:453:7: note: std::basic_ifstream<_CharT, _Traits>::basic_ifstream() [with _CharT = char; _Traits = std::char_traits<char>]
       basic_ifstream() : __istream_type(), _M_filebuf()
       ^
/usr/include/c++/4.8.1/fstream:453:7: note:   candidate expects 0 arguments, 3 provided
/usr/include/c++/4.8.1/fstream:427:11: note: std::basic_ifstream<char>::basic_ifstream(const std::basic_ifstream<char>&)
     class basic_ifstream : public basic_istream<_CharT, _Traits>
           ^
/usr/include/c++/4.8.1/fstream:427:11: note:   candidate expects 1 argument, 3 provided
pngSteg_unittest.cc:50:3: error: ‘uint8_t’ was not declared in this scope
   uint8_t* cover_payload = new uint8_t[cover_len];
   ^
pngSteg_unittest.cc:50:12: error: ‘cover_payload’ was not declared in this scope
   uint8_t* cover_payload = new uint8_t[cover_len];
            ^
pngSteg_unittest.cc:50:32: error: expected type-specifier before ‘uint8_t’
   uint8_t* cover_payload = new uint8_t[cover_len];
                                ^
pngSteg_unittest.cc:50:32: error: expected ‘;’ before ‘uint8_t’
pngSteg_unittest.cc:55:3: error: ‘png_test’ was not declared in this scope
   png_test.read (cover_payload, cover_len);
   ^
pngSteg_unittest.cc:59:11: error: expected ‘;’ before ‘test_phrase’
   uint8_t test_phrase[] = "There are 10 types of people in the world: those who understand binary, and those who don'
           ^
pngSteg_unittest.cc:60:28: error: ‘test_phrase’ was not declared in this scope
   size_t data_len = strlen(test_phrase)+1
                            ^
In file included from /usr/include/gtest/gtest.h:1798:0,
                 from pngSteg_unittest.cc:37:
pngSteg_unittest.cc:68:3: error: template argument 1 is invalid
   EXPECT_EQ(strlen(test_phrase)+1, test_steg.decode(cover_payload, cover_len, recovered_phrase));
   ^
pngSteg_unittest.cc:68:79: error: ‘recovered_phrase’ was not declared in this scope
   EXPECT_EQ(strlen(test_phrase)+1, test_steg.decode(cover_payload, cover_len, recovered_phrase));
                                                                               ^
In file included from /usr/include/gtest/gtest.h:57:0,
                 from pngSteg_unittest.cc:37:
pngSteg_unittest.cc:69:35: error: ‘recovered_phrase’ was not declared in this scope
   EXPECT_FALSE(memcmp(test_phrase,recovered_phrase, data_len));
                                   ^
[vmon@telly steg_test]$ g++ -I../../steg/ -I../../steg/http_steg_mods -I../ pngSteg_unittest.cc
In file included from /usr/include/c++/4.8.1/cstdint:35:0,
                 from pngSteg_unittest.cc:32:
/usr/include/c++/4.8.1/bits/c++0x_warning.h:32:2: error: #error This file requires compiler and library support for the ISO C++ 2011 standard. This support is currently experimental, and must be enabled with the -std=c++11 or -std=gnu++11 compiler options.
 #error This file requires compiler and library support for the \
  ^
In file included from pngSteg_unittest.cc:37:0:
../../steg/http_steg_mods/pngSteg.h:30:22: warning: non-static data member initializers only available with -std=c++11 or -std=gnu++11 [enabled by default]
   const char* type = "IDAT";
                      ^
../../steg/http_steg_mods/pngSteg.h: In member function ‘uint8_t* PNGChunkData::get_next_IDAT_chunk(PNGChunkData*)’:
../../steg/http_steg_mods/pngSteg.h:51:75: error: ‘memcmp’ was not declared in this scope
       if  (!memcmp(type, next_chunk->chunk_offset + 4, 4 * sizeof(uint8_t)))
                                                                           ^
../../steg/http_steg_mods/pngSteg.h: In constructor ‘PNGChunkData::PNGChunkData(uint8_t*, uint8_t*)’:
../../steg/http_steg_mods/pngSteg.h:81:19: warning: delegating constructors only available with -std=c++11 or -std=gnu++11 [enabled by default]
     :PNGChunkData()
                   ^
../../steg/http_steg_mods/pngSteg.h: At global scope:
../../steg/http_steg_mods/pngSteg.h:95:1: error: expected class-name before ‘{’ token
 {
 ^
../../steg/http_steg_mods/pngSteg.h:112:25: error: expected ‘)’ before ‘*’ token
    PNGSteg(PayloadServer* payload_provider, double noise2signal = 0);
                         ^
../../steg/http_steg_mods/pngSteg.h:115:37: warning: non-static data member initializers only available with -std=c++11 or -std=gnu++11 [enabled by default]
    const string c_data_chunk_type = "IDAT";
                                     ^
pngSteg_unittest.cc: In member function ‘virtual void pngStegTest_encode_decode_Test::TestBody()’:
pngSteg_unittest.cc:46:61: error: no matching function for call to ‘std::basic_ifstream<char>::basic_ifstream(const char [10], const openmode&, const openmode&)’
   ifstream png_test_cover("test1.png", ios::binary, ios::ate);
                                                             ^
pngSteg_unittest.cc:46:61: note: candidates are:
In file included from pngSteg_unittest.cc:31:0:
/usr/include/c++/4.8.1/fstream:467:7: note: std::basic_ifstream<_CharT, _Traits>::basic_ifstream(const char*, std::ios_base::openmode) [with _CharT = char; _Traits = std::char_traits<char>; std::ios_base::openmode = std::_Ios_Openmode]
       basic_ifstream(const char* __s, ios_base::openmode __mode = ios_base::in)
       ^
/usr/include/c++/4.8.1/fstream:467:7: note:   candidate expects 2 arguments, 3 provided
/usr/include/c++/4.8.1/fstream:453:7: note: std::basic_ifstream<_CharT, _Traits>::basic_ifstream() [with _CharT = char; _Traits = std::char_traits<char>]
       basic_ifstream() : __istream_type(), _M_filebuf()
       ^
/usr/include/c++/4.8.1/fstream:453:7: note:   candidate expects 0 arguments, 3 provided
/usr/include/c++/4.8.1/fstream:427:11: note: std::basic_ifstream<char>::basic_ifstream(const std::basic_ifstream<char>&)
     class basic_ifstream : public basic_istream<_CharT, _Traits>
           ^
/usr/include/c++/4.8.1/fstream:427:11: note:   candidate expects 1 argument, 3 provided
pngSteg_unittest.cc:56:3: error: ‘png_test’ was not declared in this scope
   png_test.read (cover_payload, cover_len);
   ^
pngSteg_unittest.cc:61:39: error: invalid conversion from ‘uint8_t* {aka unsigned char*}’ to ‘const char*’ [-fpermissive]
   size_t data_len = strlen(test_phrase)+1
                                       ^
In file included from /usr/include/gtest/internal/gtest-port.h:190:0,
                 from /usr/include/gtest/internal/gtest-internal.h:40,
                 from /usr/include/gtest/gtest.h:57,
                 from pngSteg_unittest.cc:38:
/usr/include/string.h:395:15: error:   initializing argument 1 of ‘size_t strlen(const char*)’ [-fpermissive]
 extern size_t strlen (const char *__s)
               ^
pngSteg_unittest.cc:62:3: error: expected ‘,’ or ‘;’ before ‘uint8_t’
   uint8_t recovered_phrase = new uint8_t[data_len];
   ^
In file included from pngSteg_unittest.cc:37:0:
../../steg/http_steg_mods/pngSteg.h:118:16: error: ‘virtual int PNGSteg::encode(uint8_t*, size_t, uint8_t*, size_t)’ is protected
    virtual int encode(uint8_t* data, size_t data_len, uint8_t* cover_payload, size_t cover_len);
                ^
In file included from /usr/include/gtest/gtest.h:1798:0,
                 from pngSteg_unittest.cc:38:
pngSteg_unittest.cc:67:88: error: within this context
   EXPECT_EQ(cover_len, test_steg.encode(test_phrase, data_len, cover_payload, cover_len));
                                                                                        ^
pngSteg_unittest.cc:69:31: error: invalid conversion from ‘uint8_t* {aka unsigned char*}’ to ‘const char*’ [-fpermissive]
   EXPECT_EQ(strlen(test_phrase)+1, test_steg.decode(cover_payload, cover_len, recovered_phrase));
                               ^
In file included from /usr/include/gtest/internal/gtest-port.h:190:0,
                 from /usr/include/gtest/internal/gtest-internal.h:40,
                 from /usr/include/gtest/gtest.h:57,
                 from pngSteg_unittest.cc:38:
/usr/include/string.h:395:15: error:   initializing argument 1 of ‘size_t strlen(const char*)’ [-fpermissive]
 extern size_t strlen (const char *__s)
               ^
In file included from /usr/include/gtest/gtest.h:1798:0,
                 from pngSteg_unittest.cc:38:
pngSteg_unittest.cc:69:31: error: invalid conversion from ‘uint8_t* {aka unsigned char*}’ to ‘const char*’ [-fpermissive]
   EXPECT_EQ(strlen(test_phrase)+1, test_steg.decode(cover_payload, cover_len, recovered_phrase));
                               ^
In file included from /usr/include/gtest/internal/gtest-port.h:190:0,
                 from /usr/include/gtest/internal/gtest-internal.h:40,
                 from /usr/include/gtest/gtest.h:57,
                 from pngSteg_unittest.cc:38:
/usr/include/string.h:395:15: error:   initializing argument 1 of ‘size_t strlen(const char*)’ [-fpermissive]
 extern size_t strlen (const char *__s)
               ^
In file included from /usr/include/gtest/gtest.h:1798:0,
                 from pngSteg_unittest.cc:38:
pngSteg_unittest.cc:69:79: error: ‘recovered_phrase’ was not declared in this scope
   EXPECT_EQ(strlen(test_phrase)+1, test_steg.decode(cover_payload, cover_len, recovered_phrase));
                                                                               ^
In file included from /usr/include/gtest/gtest.h:57:0,
                 from pngSteg_unittest.cc:38:
pngSteg_unittest.cc:70:35: error: ‘recovered_phrase’ was not declared in this scope
   EXPECT_FALSE(memcmp(test_phrase,recovered_phrase, data_len));
                                   ^
[vmon@telly steg_test]$ g++ -I../../steg/ -I../../steg/http_steg_mods -I../ pngSteg_unittest.cc
pngSteg_unittest.cc:38:18: fatal error: util.h: No such file or directory
 #include "util.h"
                  ^
compilation terminated.
[vmon@telly steg_test]$ g++ -I../../steg/ -I../../steg/http_steg_mods -I../ pngSteg_unittest.cc
pngSteg_unittest.cc:38:18: fatal error: util.h: No such file or directory
 #include "util.h"
                  ^
compilation terminated.
[vmon@telly steg_test]$ g++ -I../../steg/ -I../../steg/http_steg_mods -I../.. pngSteg_unittest.cc
In file included from pngSteg_unittest.cc:38:0:
../../util.h:9:20: fatal error: config.h: No such file or directory
 #include "config.h"
                    ^
compilation terminated.
[vmon@telly steg_test]$ g++ -I../../steg/ -I../../steg/http_steg_mods -I../.. -I../../.. pngSteg_unittest.cc
In file included from pngSteg_unittest.cc:42:0:
../../steg/http_steg_mods/file_steg.h:22:29: warning: non-static data member initializers only available with -std=c++11 or -std=gnu++11 [enabled by default]
   const int RESPONSE_GOOD = 0 ;
                             ^
../../steg/http_steg_mods/file_steg.h:23:36: warning: non-static data member initializers only available with -std=c++11 or -std=gnu++11 [enabled by default]
   const int RESPONSE_INCOMPLETE = -1;
                                    ^
../../steg/http_steg_mods/file_steg.h:24:29: warning: non-static data member initializers only available with -std=c++11 or -std=gnu++11 [enabled by default]
   const int RESPONSE_BAD = -2;
                             ^
../../steg/http_steg_mods/file_steg.h:26:38: warning: non-static data member initializers only available with -std=c++11 or -std=gnu++11 [enabled by default]
   const size_t c_HTTP_MSG_BUF_SIZE = 1000000;
                                      ^
In file included from pngSteg_unittest.cc:43:0:
../../steg/http_steg_mods/pngSteg.h:30:22: warning: non-static data member initializers only available with -std=c++11 or -std=gnu++11 [enabled by default]
   const char* type = "IDAT";
                      ^
../../steg/http_steg_mods/pngSteg.h: In constructor ‘PNGChunkData::PNGChunkData(uint8_t*, uint8_t*)’:
../../steg/http_steg_mods/pngSteg.h:81:19: warning: delegating constructors only available with -std=c++11 or -std=gnu++11 [enabled by default]
     :PNGChunkData()
                   ^
../../steg/http_steg_mods/pngSteg.h: At global scope:
../../steg/http_steg_mods/pngSteg.h:115:37: warning: non-static data member initializers only available with -std=c++11 or -std=gnu++11 [enabled by default]
    const string c_data_chunk_type = "IDAT";
                                     ^
pngSteg_unittest.cc: In member function ‘virtual void pngStegTest_encode_decode_Test::TestBody()’:
pngSteg_unittest.cc:56:61: error: no matching function for call to ‘std::basic_ifstream<char>::basic_ifstream(const char [10], const openmode&, const openmode&)’
   ifstream png_test_cover("test1.png", ios::binary, ios::ate);
                                                             ^
pngSteg_unittest.cc:56:61: note: candidates are:
In file included from pngSteg_unittest.cc:31:0:
/usr/include/c++/4.8.1/fstream:467:7: note: std::basic_ifstream<_CharT, _Traits>::basic_ifstream(const char*, std::ios_base::openmode) [with _CharT = char; _Traits = std::char_traits<char>; std::ios_base::openmode = std::_Ios_Openmode]
       basic_ifstream(const char* __s, ios_base::openmode __mode = ios_base::in)
       ^
/usr/include/c++/4.8.1/fstream:467:7: note:   candidate expects 2 arguments, 3 provided
/usr/include/c++/4.8.1/fstream:453:7: note: std::basic_ifstream<_CharT, _Traits>::basic_ifstream() [with _CharT = char; _Traits = std::char_traits<char>]
       basic_ifstream() : __istream_type(), _M_filebuf()
       ^
/usr/include/c++/4.8.1/fstream:453:7: note:   candidate expects 0 arguments, 3 provided
/usr/include/c++/4.8.1/fstream:427:11: note: std::basic_ifstream<char>::basic_ifstream(const std::basic_ifstream<char>&)
     class basic_ifstream : public basic_istream<_CharT, _Traits>
           ^
/usr/include/c++/4.8.1/fstream:427:11: note:   candidate expects 1 argument, 3 provided
pngSteg_unittest.cc:66:3: error: ‘png_test’ was not declared in this scope
   png_test.read (cover_payload, cover_len);
   ^
pngSteg_unittest.cc:71:39: error: invalid conversion from ‘uint8_t* {aka unsigned char*}’ to ‘const char*’ [-fpermissive]
   size_t data_len = strlen(test_phrase)+1
                                       ^
In file included from pngSteg_unittest.cc:34:0:
/usr/include/string.h:395:15: error:   initializing argument 1 of ‘size_t strlen(const char*)’ [-fpermissive]
 extern size_t strlen (const char *__s)
               ^
pngSteg_unittest.cc:72:3: error: expected ‘,’ or ‘;’ before ‘uint8_t’
   uint8_t recovered_phrase = new uint8_t[data_len];
   ^
pngSteg_unittest.cc:73:11: error: no matching function for call to ‘PNGSteg::PNGSteg()’
   PNGSteg test_steg;
           ^
pngSteg_unittest.cc:73:11: note: candidates are:
In file included from pngSteg_unittest.cc:43:0:
../../steg/http_steg_mods/pngSteg.h:112:4: note: PNGSteg::PNGSteg(PayloadServer*, double)
    PNGSteg(PayloadServer* payload_provider, double noise2signal = 0);
    ^
../../steg/http_steg_mods/pngSteg.h:112:4: note:   candidate expects 2 arguments, 0 provided
../../steg/http_steg_mods/pngSteg.h:94:7: note: PNGSteg::PNGSteg(const PNGSteg&)
 class PNGSteg : public FileStegMod
       ^
../../steg/http_steg_mods/pngSteg.h:94:7: note:   candidate expects 1 argument, 0 provided
../../steg/http_steg_mods/pngSteg.h:118:16: error: ‘virtual int PNGSteg::encode(uint8_t*, size_t, uint8_t*, size_t)’ is protected
    virtual int encode(uint8_t* data, size_t data_len, uint8_t* cover_payload, size_t cover_len);
                ^
In file included from /usr/include/gtest/gtest.h:1798:0,
                 from pngSteg_unittest.cc:46:
pngSteg_unittest.cc:77:88: error: within this context
   EXPECT_EQ(cover_len, test_steg.encode(test_phrase, data_len, cover_payload, cover_len));
                                                                                        ^
pngSteg_unittest.cc:79:31: error: invalid conversion from ‘uint8_t* {aka unsigned char*}’ to ‘const char*’ [-fpermissive]
   EXPECT_EQ(strlen(test_phrase)+1, test_steg.decode(cover_payload, cover_len, recovered_phrase));
                               ^
In file included from pngSteg_unittest.cc:34:0:
/usr/include/string.h:395:15: error:   initializing argument 1 of ‘size_t strlen(const char*)’ [-fpermissive]
 extern size_t strlen (const char *__s)
               ^
In file included from /usr/include/gtest/gtest.h:1798:0,
                 from pngSteg_unittest.cc:46:
pngSteg_unittest.cc:79:31: error: invalid conversion from ‘uint8_t* {aka unsigned char*}’ to ‘const char*’ [-fpermissive]
   EXPECT_EQ(strlen(test_phrase)+1, test_steg.decode(cover_payload, cover_len, recovered_phrase));
                               ^
In file included from pngSteg_unittest.cc:34:0:
/usr/include/string.h:395:15: error:   initializing argument 1 of ‘size_t strlen(const char*)’ [-fpermissive]
 extern size_t strlen (const char *__s)
               ^
In file included from /usr/include/gtest/gtest.h:1798:0,
                 from pngSteg_unittest.cc:46:
pngSteg_unittest.cc:79:79: error: ‘recovered_phrase’ was not declared in this scope
   EXPECT_EQ(strlen(test_phrase)+1, test_steg.decode(cover_payload, cover_len, recovered_phrase));
                                                                               ^
In file included from /usr/include/gtest/gtest.h:57:0,
                 from pngSteg_unittest.cc:46:
pngSteg_unittest.cc:80:35: error: ‘recovered_phrase’ was not declared in this scope
   EXPECT_FALSE(memcmp(test_phrase,recovered_phrase, data_len));
                                   ^
[vmon@telly steg_test]$ cd /home/vmon/Dropbox/doc/code/deflect/learn2ban/src/
[vmon@telly src]$ git status
# On branch master
# Changes not staged for commit:
#   (use "git add <file>..." to update what will be committed)
#   (use "git checkout -- <file>..." to discard changes in working directory)
#
#	modified:   analysis/experimentor.py
#	modified:   features/feature_payload_size_average.py
#	modified:   features/feature_request_depth.py
#	modified:   ip_sieve.py
#	modified:   tools/apache_log_muncher.py
#
no changes added to commit (use "git add" and/or "git commit -a")
[vmon@telly src]$ git diff
WARNING: terminal is not fully functional
-  (press RETURN)
diff --git a/src/analysis/experimentor.py b/src/analysis/experimentor.py
index 5dbe075..b240983 100644
--- a/src/analysis/experimentor.py
+++ b/src/analysis/experimentor.py
@@ -111,6 +111,8 @@ class Experimentor():
         INPUT:
             log_files: the logs that we went through it.
         """
+        #this is not a oop way of retrieving the logs but I think we are
+        #avoiding db access in other classes beside l2btools
         cur_experiment_logs = self.l2btools.retrieve_experiment_logs(self.id)
 
         #if there is no log associated to this experiment then there is nothing
@@ -176,14 +178,13 @@ class Experimentor():
         OUTPUT: an array containing the importance ratio of features based
                 on above forumla
         """
-        import pdb
-        pdb.set_trace()
         pca_transform_matrix = pca_model[0]
         pca_var_ratio = pca_model[1]
 
         #row_sums = pca_transform_matrix.sum(axis=1)
:
         #apparently pca transfomation is normalised along both access
:
-        scaled_coeffs = pca_var_ratio.reshape(-1) * pca_transform_matrix
: 
+        #anyway for some reason reshape(-1) doesn't work as transpose
+        scaled_coeffs = pca_var_ratio.reshape(len(pca_var_ratio),1) * pca_transform_matrix
 
         return np.apply_along_axis(np.linalg.norm, 0 , scaled_coeffs)
 
diff --git a/src/features/feature_payload_size_average.py b/src/features/feature_payload_size_average.py
index 10820ce..f6c379d 100644
--- a/src/features/feature_payload_size_average.py
+++ b/src/features/feature_payload_size_average.py
@@ -2,7 +2,7 @@
 For each IP compute the average time between two request
 
 AUTHORS::
-    
+
     - Bill (bill@equalit.ie) 2012: Initial version
 
 """
@@ -15,7 +15,7 @@ class FeaturePayloadSizeAverage(Learn2BanFeature):
         Simply calls the parent constructor
         """
         Learn2BanFeature.__init__(self, ip_sieve, ip_feature_db)
-        
+
: 
         #Each feature need to have unique index as the field number
         #in ip_feature_db
         self._FEATURE_INDEX = 5
@@ -23,21 +23,19 @@ class FeaturePayloadSizeAverage(Learn2BanFeature):
 
     def compute(self):
         """
-        retrieve the ip dictionary and compute the average for each 
+        retrieve the ip dictionary and compute the average for each
         ip to determine the change rate of UA per IP.
         """
         ip_recs = self._ip_sieve.ordered_records()
 
-        for cur_ip_rec in ip_recs:
-               total_size = 0
-               total_requests = 0
-               for payload in ip_recs[cur_ip_rec]:     
-                       total_size += int(payload.get_payload_size())
-                       total_requests += 1
+        #obviously the total size comparative to all other sizes is important
+        #so we are better off not to devide because the normalizer will
+        #compute that value and apply it during prediction
 
-               #Calculate average pyalod size for given IP
: 
-               feature_value = 0 if total_size <= 0 else float(total_size)/float(total_requests)
-
-                self.append_feature(cur_ip_rec, feature_value)
-                       
+        for cur_ip_rec in ip_recs:
+            total_size = 0
+            for payload in ip_recs[cur_ip_rec]:
+                total_size += int(payload.get_payload_size())
 
+            #Calculate average pyalod size for given IP
+            self.append_feature(cur_ip_rec, (total_size > 0) and total_size or 0)
diff --git a/src/features/feature_request_depth.py b/src/features/feature_request_depth.py
index 8b9f2b7..fa372fe 100644
--- a/src/features/feature_request_depth.py
+++ b/src/features/feature_request_depth.py
@@ -2,8 +2,9 @@
 For each IP compute the average depth of page requests
 
 AUTHORS::
-    
+
     - Bill (bill@equalit.ie) 2012: Initial version
+    - Vmon (vmon@equalit.ie) 2012: Took the average
 
: 
 """
 from learn2ban_feature import Learn2BanFeature
@@ -14,7 +15,7 @@ class FeatureRequestDepth(Learn2BanFeature):
         Simply calls the parent constructor
         """
         Learn2BanFeature.__init__(self, ip_sieve, ip_feature_db)
-        
+
         #Each feature need to have unique index as the field number
         #in ip_feature_db
         self._FEATURE_INDEX = 7
@@ -22,23 +23,24 @@ class FeatureRequestDepth(Learn2BanFeature):
 
     def compute(self):
         """
-        retrieve the ip dictionary and compute the average for each 
+        retrieve the ip dictionary and compute the average for each
         ip. This feature returns the average depth of uri requests by IP.
-       This is intended to distinguish between bots and real live persons.
+        This is intended to distinguish between bots and real live persons.
         """
+        #Vmon: Again why average has any meaning here, while normalizing will
+        #take care care of it
+        #Beside: I feel that wasn't the original intent, the original
: 
+        #intent is that in a website how many time you need to click to
+        #reach that page which is not obtainable form the logs
         ip_recs = self._ip_sieve.ordered_records()
 
         for cur_ip_rec in ip_recs:
-               total_page_depth = 0
-               total_html_requests = 0
-               for payload in ip_recs[cur_ip_rec]:     
-                       if payload.get_doc_type() == 'html':
-                               page_depth = payload.get_requested_element().count('/')
-                               total_path_depth += page_depth
-                               total_html_requests += 1
-               #Average page depth over the course of requests
-               feature_value = 0 if total_page_depth >= 0 else float(total_page_depth)/float(total_html_requests)
-
-                self.append_feature(cur_ip_rec, feature_value)
-                       
+            total_page_depth = 0
+            total_html_requests = 0
+            for payload in ip_recs[cur_ip_rec]:
+                if payload.get_doc_type() == 'html':
+                    page_depth = payload.get_requested_element().count('/')
+                    total_page_depth += page_depth
+                    total_html_requests += 1
: 
 
+            self.append_feature(cur_ip_rec, total_page_depth)
diff --git a/src/ip_sieve.py b/src/ip_sieve.py
index ff7ae22..5c34f7c 100644
--- a/src/ip_sieve.py
+++ b/src/ip_sieve.py
@@ -31,8 +31,6 @@ class ATSRecord:
         self.time = cur_rec_dict["time"];
         self.payload = cur_rec_dict;
 
-        self.doc_type = self.payload["request"].split('.')[-1]
-
         #do not run lexify it is slow
         #self.lexify()
 
@@ -81,7 +79,7 @@ class ATSRecord:
        """
        Retrieves the document type, if present, for the current payload
        """
-        return self.doc_type
+        return self.payload["type"]
 
     def get_payload_size(self):
        """
: 
@@ -134,6 +132,14 @@ class IPSieve():
         self.dict_invalid = True
         self._log_lines = log_lines
 
+    def set_pre_seived_order_records(self, pre_seived_records):
+        """
+        It sets the order records directy to the dictionary
+        supplied by the user
+        """
+        self.dict_invalid = False
+        self._ordered_records = pre_seived_records
+
     def parse_log(self):
         """
         Read each line of the log file and batch the records corresponding
diff --git a/src/tools/apache_log_muncher.py b/src/tools/apache_log_muncher.py
index b94ead1..7cff4eb 100644
--- a/src/tools/apache_log_muncher.py
+++ b/src/tools/apache_log_muncher.py
@@ -36,31 +36,34 @@ parts = [
 pattern = re.compile(r'\s+'.join(parts)+r'\s*\Z')
 
 def parse_line(line):
-       m = pattern.match(line)
: 
-        if not m:
-            return None
+    m = pattern.match(line)
+    if not m:
+        return None
+    
+    res = m.groupdict()
 
-       res = m.groupdict()
+    if res["user"] == "-":
+        res["user"] = None
 
-       if res["user"] == "-":
-           res["user"] = None
+    res["status"] = int(res["status"])
 
-       res["status"] = int(res["status"])
+    res["http_ver"] = res["request"].split()[-1]
+    res["request"] = res["request"].split()[-2]
+    res["type"] = res["request"].split('.')[-1]
 
-       if res["size"] == "-":
-           res["size"] = 0
-       else:
: 
-           res["size"] = int(res["size"])
+    if res["size"] == "-":
+        res["size"] = 0
+    else:
+        res["size"] = int(res["size"])
 
-       if res["referer"] == "-":
-           res["referer"] = None
-       res["time"] = res["year"]+'-'+months[res["month"]]+'-'+res["day"] + "T" + res["time"]+"Z"
-        
-        return res;
+    if res["referer"] == "-":
+        res["referer"] = None
 
+    res["time"] = res["year"]+'-'+months[res["month"]]+'-'+res["day"] + "T" + res["time"]+"Z"
+
+    return res;
 
 if __name__ == "__main__":
     for files in glob.glob("*.log"):
         for l in open(files,'rb'):
            parse_line(l)
-
(END)q
[vmon@telly src]$ git log
[vmon@telly src]$ WARNING: terminal is not fully functional
-  (press RETURN)
commit 929ca005c094a746365d66786868119d23723221
Author: vmon <vmon@riseup.net>
Date:   Sat Aug 10 11:08:28 2013 -0600

    not sure why all my commit comes off the stage :( and I need to commit them again

commit 16f49d478bb65f0a21f52c72ef0236b5628e4fc0
Merge: c565d91 bf45af8
Author: vmon <vmon@riseup.net>
Date:   Sat Aug 10 10:08:27 2013 -0600

    solve the problem of losing track of the remote branch

commit c565d910cbe56e56c0ff061469e5750ac3666086
Author: vmon <vmonmoonshine@gmail.com>
Date:   Sat Aug 10 09:36:17 2013 -0600

    Adding profile_name to config table for having various cofiguration, absolute path for data logs

commit e8e912114da374d7656f5b065db8c48743db56d8
Author: vmon <vmon@riseup.net>
Date:   Fri Aug 2 16:24:37 2013 -0600

:q
[vmon@telly src]$ git pull --all
[vmon@telly src]$ Fetching origin
Enter passphrase for key '/home/vmon/.ssh/id_rsa_vmon': 
remote: Counting objects: 14, done.        
remote: Compressing objects: 100% (4/4), done.        
remote: Total 12 (delta 9), reused 11 (delta 8)        
Unpacking objects: 100% (12/12), done.
From github.com:/equalitie/learn2ban
 * [new branch]      botbanger-interface -> origin/botbanger-interface
Already up-to-date.
[vmon@telly src]$ git status
# On branch master
# Changes not staged for commit:
#   (use "git add <file>..." to update what will be committed)
#   (use "git checkout -- <file>..." to discard changes in working directory)
#
#	modified:   analysis/experimentor.py
#	modified:   features/feature_payload_size_average.py
#	modified:   features/feature_request_depth.py
#	modified:   ip_sieve.py
#	modified:   tools/apache_log_muncher.py
#
no changes added to commit (use "git add" and/or "git commit -a")
[vmon@telly src]$ git add .
[vmon@telly src]$ git commit -m "preparing l2b to run on msx0 to run experiments"
[master b868c84] preparing l2b to run on msx0 to run experiments
 5 files changed, 63 insertions(+), 53 deletions(-)
[vmon@telly src]$ git push --all
Enter passphrase for key '/home/vmon/.ssh/id_rsa_vmon': 
Counting objects: 21, done.
Delta compression using up to 2 threads.
Compressing objects: 100% (11/11), done.
Writing objects: 100% (11/11), 1.92 KiB | 0 bytes/s, done.
Total 11 (delta 10), reused 0 (delta 0)
To git@github.com:/equalitie/learn2ban
   929ca00..b868c84  master -> master
[vmon@telly src]$ cd /home/vmon/doc/code/deflect/ats_lab/deflect/banjax/src/
[vmon@telly src]$ git branch
  Redirct-traffic-to-solver
  ch_manager
  f--challenger
  f--cppization
  f--modular-filters
  f--mysql-less
  javascript-solver
  master
* staging
[vmon@telly src]$ uname
Linux
[vmon@telly src]$ git checkout f--modular-filters
Switched to branch 'f--modular-filters'
[vmon@telly src]$ cd ..
[vmon@telly banjax]$ make BASEDIR=/usr/local
"/usr/local/bin/tsxs" -o banjax.so -I "./include" -I "/usr/include/mysql" -l re2 -l zmq -l config++ -C src/*.cpp
  compiling src/ats_event_handler.cpp -> src/ats_event_handler.lo
  compiling src/banjax_continuation.cpp -> src/banjax_continuation.lo
  compiling src/banjax.cpp -> src/banjax.lo
  compiling src/challenge_manager.cpp -> src/challenge_manager.lo
  compiling src/cookie_parser.cpp -> src/cookie_parser.lo
  compiling src/regex_manager.cpp -> src/regex_manager.lo
  compiling src/swabber_interface.cpp -> src/swabber_interface.lo
  compiling src/transaction_muncher.cpp -> src/transaction_muncher.lo
  compiling src/util.cpp -> src/util.lo
  linking -> banjax.so
[vmon@telly banjax]$ pwd
/home/vmon/doc/code/deflect/ats_lab/deflect/banjax
[vmon@telly banjax]$ cd ..
[vmon@telly deflect]$ cd ..
[vmon@telly ats_lab]$ cd banjax/
[vmon@telly banjax]$ make BASEDIR=/usr/local
"/usr/local/bin/tsxs" -o banjax.so -I "./include" -I "/usr/include/mysql" -l re2 -l zmq -l config++ -C src/*.cpp
  compiling src/ats_event_handler.cpp -> src/ats_event_handler.lo
In file included from src/ats_event_handler.cpp:30:0:
./include/regex_manager.h: In constructor ‘RegexManager::RegexManager(const string&, const libconfig::Setting&)’:
./include/regex_manager.h:43:58: error: no matching function for call to ‘RegexManager::load_config(const string&, libconfig::Setting&)’
     load_config(banjax_dir, main_root[BANJAX_FILTER_NAME]);
                                                          ^
./include/regex_manager.h:43:58: note: candidate is:
./include/regex_manager.h:51:16: note: virtual void RegexManager::load_config(libconfig::Setting&)
   virtual void load_config(libconfig::Setting& cfg);
                ^
./include/regex_manager.h:51:16: note:   candidate expects 1 argument, 2 provided
In file included from src/ats_event_handler.cpp:31:0:
./include/challenge_manager.h: At global scope:
./include/challenge_manager.h:61:3: error: expected unqualified-id before ‘{’ token
   {
   ^
./include/challenge_manager.h: In constructor ‘ChallengeManager::ChallengeManager(const string&, const libconfig::Setting&)’:
./include/challenge_manager.h:60:129: error: expected ‘{’ at end of input
 ter::BanjaxFilter(main_root, CHALLENGER_FILTER_ID, CHALLENGER_FILTER_NAME), solver_page(banjax_dir + "/solver.html");
                                                                                                                    ^
Compile failed: g++ -I/usr/local/include -I./include -I/usr/include/mysql -O0 -g2 -Wno-error -g -pipe -Wall -feliminate-unused-debug-symbols -fno-strict-aliasing -Wno-invalid-offsetof -fpic -c src/ats_event_handler.cpp -o src/ats_event_handler.lo
make: *** [banjax] Error 1
[vmon@telly banjax]$ make BASEDIR=/usr/local
"/usr/local/bin/tsxs" -o banjax.so -I "./include" -I "/usr/include/mysql" -l re2 -l zmq -l config++ -C src/*.cpp
  compiling src/ats_event_handler.cpp -> src/ats_event_handler.lo
In file included from src/ats_event_handler.cpp:30:0:
./include/regex_manager.h: In constructor ‘RegexManager::RegexManager(const string&, const libconfig::Setting&)’:
./include/regex_manager.h:43:58: error: no matching function for call to ‘RegexManager::load_config(const string&, libconfig::Setting&)’
     load_config(banjax_dir, main_root[BANJAX_FILTER_NAME]);
                                                          ^
./include/regex_manager.h:43:58: note: candidate is:
./include/regex_manager.h:51:16: note: virtual void RegexManager::load_config(libconfig::Setting&)
   virtual void load_config(libconfig::Setting& cfg);
                ^
./include/regex_manager.h:51:16: note:   candidate expects 1 argument, 2 provided
In file included from src/ats_event_handler.cpp:31:0:
./include/challenge_manager.h: At global scope:
./include/challenge_manager.h:61:3: error: expected unqualified-id before ‘{’ token
   {
   ^
./include/challenge_manager.h: In constructor ‘ChallengeManager::ChallengeManager(const string&, const libconfig::Setting&)’:
./include/challenge_manager.h:60:129: error: expected ‘{’ at end of input
 ter::BanjaxFilter(main_root, CHALLENGER_FILTER_ID, CHALLENGER_FILTER_NAME), solver_page(banjax_dir + "/solver.html");
                                                                                                                    ^
Compile failed: g++ -I/usr/local/include -I./include -I/usr/include/mysql -O0 -g2 -Wno-error -g -pipe -Wall -feliminate-unused-debug-symbols -fno-strict-aliasing -Wno-invalid-offsetof -fpic -c src/ats_event_handler.cpp -o src/ats_event_handler.lo
make: *** [banjax] Error 1
[vmon@telly banjax]$ make BASEDIR=/usr/local
"/usr/local/bin/tsxs" -o banjax.so -I "./include" -I "/usr/include/mysql" -l re2 -l zmq -l config++ -C src/*.cpp
  compiling src/ats_event_handler.cpp -> src/ats_event_handler.lo
In file included from src/ats_event_handler.cpp:30:0:
./include/regex_manager.h: In constructor ‘RegexManager::RegexManager(const string&, const libconfig::Setting&)’:
./include/regex_manager.h:41:92: error: no matching function for call to ‘BanjaxFilter::BanjaxFilter(const libconfig::Setting&, <anonymous enum>, const string&)’
     :BanjaxFilter::BanjaxFilter(main_root, REGEX_BANNER_FILTER_ID, REGEX_BANNER_FILTER_NAME)
                                                                                            ^
./include/regex_manager.h:41:92: note: candidates are:
In file included from ./include/banjax_continuation.h:10:0,
                 from src/ats_event_handler.cpp:28:
./include/banjax_filter.h:80:2: note: BanjaxFilter::BanjaxFilter(const string&, const libconfig::Setting&, unsigned int, std::string)
  BanjaxFilter(const string& banjax_dir, const libconfig::Setting& main_root, unsigned int child_id, std::string child
  ^
./include/banjax_filter.h:80:2: note:   candidate expects 4 arguments, 3 provided
./include/banjax_filter.h:45:7: note: BanjaxFilter::BanjaxFilter(const BanjaxFilter&)
 class BanjaxFilter
       ^
./include/banjax_filter.h:45:7: note:   candidate expects 1 argument, 3 provided
In file included from src/ats_event_handler.cpp:31:0:
./include/challenge_manager.h: At global scope:
./include/challenge_manager.h:61:3: error: expected unqualified-id before ‘{’ token
   {
   ^
./include/challenge_manager.h: In constructor ‘ChallengeManager::ChallengeManager(const string&, const libconfig::Setting&)’:
./include/challenge_manager.h:60:129: error: no matching function for call to ‘BanjaxFilter::BanjaxFilter(const libconfig::Setting&, <anonymous enum>, const string&)’
 ter::BanjaxFilter(main_root, CHALLENGER_FILTER_ID, CHALLENGER_FILTER_NAME), solver_page(banjax_dir + "/solver.html");
                                                                                                                    ^
./include/challenge_manager.h:60:129: note: candidates are:
In file included from ./include/banjax_continuation.h:10:0,
                 from src/ats_event_handler.cpp:28:
./include/banjax_filter.h:80:2: note: BanjaxFilter::BanjaxFilter(const string&, const libconfig::Setting&, unsigned int, std::string)
  BanjaxFilter(const string& banjax_dir, const libconfig::Setting& main_root, unsigned int child_id, std::string child
  ^
./include/banjax_filter.h:80:2: note:   candidate expects 4 arguments, 3 provided
./include/banjax_filter.h:45:7: note: BanjaxFilter::BanjaxFilter(const BanjaxFilter&)
 class BanjaxFilter
       ^
./include/banjax_filter.h:45:7: note:   candidate expects 1 argument, 3 provided
In file included from src/ats_event_handler.cpp:31:0:
./include/challenge_manager.h:60:129: error: expected ‘{’ at end of input
 ter::BanjaxFilter(main_root, CHALLENGER_FILTER_ID, CHALLENGER_FILTER_NAME), solver_page(banjax_dir + "/solver.html");
                                                                                                                    ^
Compile failed: g++ -I/usr/local/include -I./include -I/usr/include/mysql -O0 -g2 -Wno-error -g -pipe -Wall -feliminate-unused-debug-symbols -fno-strict-aliasing -Wno-invalid-offsetof -fpic -c src/ats_event_handler.cpp -o src/ats_event_handler.lo
make: *** [banjax] Error 1
[vmon@telly banjax]$ make BASEDIR=/usr/local
"/usr/local/bin/tsxs" -o banjax.so -I "./include" -I "/usr/include/mysql" -l re2 -l zmq -l config++ -C src/*.cpp
  compiling src/ats_event_handler.cpp -> src/ats_event_handler.lo
In file included from src/ats_event_handler.cpp:31:0:
./include/challenge_manager.h:61:3: error: expected unqualified-id before ‘{’ token
   {
   ^
./include/challenge_manager.h: In constructor ‘ChallengeManager::ChallengeManager(const string&, const libconfig::Setting&)’:
./include/challenge_manager.h:60:141: error: expected ‘{’ at end of input
 ilter(banjax_dir, main_root, CHALLENGER_FILTER_ID, CHALLENGER_FILTER_NAME), solver_page(banjax_dir + "/solver.html");
                                                                                                                    ^
Compile failed: g++ -I/usr/local/include -I./include -I/usr/include/mysql -O0 -g2 -Wno-error -g -pipe -Wall -feliminate-unused-debug-symbols -fno-strict-aliasing -Wno-invalid-offsetof -fpic -c src/ats_event_handler.cpp -o src/ats_event_handler.lo
make: *** [banjax] Error 1
[vmon@telly banjax]$ make BASEDIR=/usr/local
"/usr/local/bin/tsxs" -o banjax.so -I "./include" -I "/usr/include/mysql" -l re2 -l zmq -l config++ -C src/*.cpp
  compiling src/ats_event_handler.cpp -> src/ats_event_handler.lo
In file included from src/ats_event_handler.cpp:31:0:
./include/challenge_manager.h:61:3: error: expected unqualified-id before ‘{’ token
   {
   ^
./include/challenge_manager.h: In constructor ‘ChallengeManager::ChallengeManager(const string&, const libconfig::Setting&)’:
./include/challenge_manager.h:60:141: error: expected ‘{’ at end of input
 ilter(banjax_dir, main_root, CHALLENGER_FILTER_ID, CHALLENGER_FILTER_NAME), solver_page(banjax_dir + "/solver.html");
                                                                                                                    ^
Compile failed: g++ -I/usr/local/include -I./include -I/usr/include/mysql -O0 -g2 -Wno-error -g -pipe -Wall -feliminate-unused-debug-symbols -fno-strict-aliasing -Wno-invalid-offsetof -fpic -c src/ats_event_handler.cpp -o src/ats_event_handler.lo
make: *** [banjax] Error 1
[vmon@telly banjax]$ make
"/usr//bin/tsxs" -o banjax.so -I "./include" -I "/usr/include/mysql" -l re2 -l zmq -l config++ -C src/*.cpp
/bin/sh: /usr//bin/tsxs: No such file or directory
make: *** [banjax] Error 127
[vmon@telly banjax]$ make BASEDIR=/usr/local
"/usr/local/bin/tsxs" -o banjax.so -I "./include" -I "/usr/include/mysql" -l re2 -l zmq -l config++ -C src/*.cpp
  compiling src/ats_event_handler.cpp -> src/ats_event_handler.lo
In file included from src/ats_event_handler.cpp:31:0:
./include/challenge_manager.h:61:3: error: expected unqualified-id before ‘{’ token
   {
   ^
In file included from src/ats_event_handler.cpp:31:0:
./include/challenge_manager.h: In constructor ‘ChallengeManager::ChallengeManager(const string&, const libconfig::Setting&)’:
./include/challenge_manager.h:60:127: error: expected ‘)’ at end of input
 njaxFilter(banjax_dir, main_root, CHALLENGER_FILTER_ID, CHALLENGER_FILTER_NAME), solver_page(banjax_dir + "/solver.ht
                                                                                                           ^
./include/challenge_manager.h:60:127: error: expected ‘{’ at end of input
Compile failed: g++ -I/usr/local/include -I./include -I/usr/include/mysql -O0 -g2 -Wno-error -g -pipe -Wall -feliminate-unused-debug-symbols -fno-strict-aliasing -Wno-invalid-offsetof -fpic -c src/ats_event_handler.cpp -o src/ats_event_handler.lo
make: *** [banjax] Error 1
[vmon@telly banjax]$ make BASEDIR=/usr/local
"/usr/local/bin/tsxs" -o banjax.so -I "./include" -I "/usr/include/mysql" -l re2 -l zmq -l config++ -C src/*.cpp
  compiling src/ats_event_handler.cpp -> src/ats_event_handler.lo
  compiling src/banjax_continuation.cpp -> src/banjax_continuation.lo
In file included from ./include/banjax_filter.h:14:0,
                 from ./include/banjax_continuation.h:10,
                 from src/banjax_continuation.cpp:11:
./include/banjax.h:49:29: error: ‘string’ does not name a type
   void filter_factory(const string& banjax_dir, const libconfig::Setting& main_root);
                             ^
./include/banjax.h:49:37: error: ISO C++ forbids declaration of ‘banjax_dir’ with no type [-fpermissive]
   void filter_factory(const string& banjax_dir, const libconfig::Setting& main_root);
                                     ^
In file included from ./include/banjax_continuation.h:10:0,
                 from src/banjax_continuation.cpp:11:
./include/banjax_filter.h:80:21: error: ‘string’ does not name a type
  BanjaxFilter(const string& banjax_dir, const libconfig::Setting& main_root, unsigned int child_id, std::string child
                     ^
./include/banjax_filter.h:80:29: error: ISO C++ forbids declaration of ‘banjax_dir’ with no type [-fpermissive]
  BanjaxFilter(const string& banjax_dir, const libconfig::Setting& main_root, unsigned int child_id, std::string child
                             ^
Compile failed: g++ -I/usr/local/include -I./include -I/usr/include/mysql -O0 -g2 -Wno-error -g -pipe -Wall -feliminate-unused-debug-symbols -fno-strict-aliasing -Wno-invalid-offsetof -fpic -c src/banjax_continuation.cpp -o src/banjax_continuation.lo
make: *** [banjax] Error 1
[vmon@telly banjax]$ make BASEDIR=/usr/local
"/usr/local/bin/tsxs" -o banjax.so -I "./include" -I "/usr/include/mysql" -l re2 -l zmq -l config++ -C src/*.cpp
  compiling src/ats_event_handler.cpp -> src/ats_event_handler.lo
  compiling src/banjax_continuation.cpp -> src/banjax_continuation.lo
In file included from ./include/banjax_continuation.h:10:0,
                 from src/banjax_continuation.cpp:11:
./include/banjax_filter.h:80:21: error: ‘string’ does not name a type
  BanjaxFilter(const string& banjax_dir, const libconfig::Setting& main_root, unsigned int child_id, std::string child
                     ^
./include/banjax_filter.h:80:29: error: ISO C++ forbids declaration of ‘banjax_dir’ with no type [-fpermissive]
  BanjaxFilter(const string& banjax_dir, const libconfig::Setting& main_root, unsigned int child_id, std::string child
                             ^
Compile failed: g++ -I/usr/local/include -I./include -I/usr/include/mysql -O0 -g2 -Wno-error -g -pipe -Wall -feliminate-unused-debug-symbols -fno-strict-aliasing -Wno-invalid-offsetof -fpic -c src/banjax_continuation.cpp -o src/banjax_continuation.lo
make: *** [banjax] Error 1
[vmon@telly banjax]$ make BASEDIR=/usr/local
"/usr/local/bin/tsxs" -o banjax.so -I "./include" -I "/usr/include/mysql" -l re2 -l zmq -l config++ -C src/*.cpp
  compiling src/ats_event_handler.cpp -> src/ats_event_handler.lo
  compiling src/banjax_continuation.cpp -> src/banjax_continuation.lo
  compiling src/banjax.cpp -> src/banjax.lo
  compiling src/challenge_manager.cpp -> src/challenge_manager.lo
  compiling src/cookie_parser.cpp -> src/cookie_parser.lo
  compiling src/regex_manager.cpp -> src/regex_manager.lo
  compiling src/swabber_interface.cpp -> src/swabber_interface.lo
  compiling src/transaction_muncher.cpp -> src/transaction_muncher.lo
  compiling src/util.cpp -> src/util.lo
  linking -> banjax.so
[vmon@telly banjax]$ tsxs -o banjax.so -i
  installing banjax.so -> /usr/local/libexec/trafficserver/banjax.so
cp: cannot create regular file ‘/usr/local/libexec/trafficserver/banjax.so’: Permission denied
chmod: changing permissions of ‘/usr/local/libexec/trafficserver/banjax.so’: Operation not permitted
[vmon@telly banjax]$ sudo tsxs -o banjax.so -i
  installing banjax.so -> /usr/local/libexec/trafficserver/banjax.so
[vmon@telly banjax]$ sudo /usr/local/bin/traffic_server 
[TrafficServer] using root directory '/usr/local'
[Sep 27 06:05:41.838] {0x7f7230462740} WARNING: couldn't open diags log file '/usr/local/var/log/trafficserver/diags.log', will not log to this file
[Sep 27 06:05:41.846] {0x7f7230462740} STATUS: opened /usr/local/var/log/trafficserver/diags.log
[Sep 27 06:05:41.938] {0x7f7230462740} NOTE: updated diags config
[Sep 27 06:05:41.953] Server {0x7f7230462740} DEBUG: (http_init) proxy.config.http.redirection_enabled = 0
[Sep 27 06:05:41.953] Server {0x7f7230462740} DEBUG: (http_init) proxy.config.http.number_of_redirections = 1
[Sep 27 06:05:41.953] Server {0x7f7230462740} DEBUG: (http_init) proxy.config.http.post_copy_size = 2048
[Sep 27 06:05:41.963] Server {0x7f7230462740} DEBUG: (http_aeua) [HttpConfig::init_aeua_filter] - Config: "/usr/local/etc/trafficserver/ae_ua.config"
[Sep 27 06:05:41.963] Server {0x7f7230462740} DEBUG: (http_aeua) [HttpConfig::init_aeua_filter] - Opening config "/usr/local/etc/trafficserver/ae_ua.config"
[Sep 27 06:05:42.006] Server {0x7f7230462740} DEBUG: (http_aeua) [HttpConfig::init_aeua_filter] - Added 0 REGEXP filters
[Sep 27 06:05:42.006] Server {0x7f7230462740} DEBUG: (http_aeua) [init_http_aeua_filter] - Total loaded 0 REGEXP for Accept-Enconding/User-Agent filtering
[Sep 27 06:05:42.048] Server {0x7f7230462740} NOTE: cache clustering disabled
[Sep 27 06:05:42.048] Server {0x7f7230462740} WARNING: Unable to access() local state directory '/usr/local/var/trafficserver': 13, Permission denied
[Sep 27 06:05:42.048] Server {0x7f7230462740} WARNING:  Please set 'proxy.config.local_state_dir' to allow statistics collection
[Sep 27 06:05:42.049] Server {0x7f7230462740} WARNING: unable to open /usr/local/var/trafficserver/stats.snap: Permission denied
[Sep 27 06:05:42.049] Server {0x7f7230462740} NOTE: clearing statistics
[Sep 27 06:05:42.228] Server {0x7f7230462740} WARNING: configuration changed: [hostdb.config] : reinitializing database
[Sep 27 06:05:42.228] Server {0x7f7230462740} NOTE: reconfiguring host database
[Sep 27 06:05:42.228] Server {0x7f7230462740} WARNING: unable to open '/usr/local/etc/trafficserver/internal/hostdb.config' for write: 13, Permission denied
[Sep 27 06:05:42.228] Server {0x7f7230462740} WARNING: unable to open file '/usr/local/var/trafficserver/host.db': 13, Permission denied
[Sep 27 06:05:42.273] Server {0x7f7230462740} NOTE: cache clustering disabled
[Sep 27 06:05:42.274] Server {0x7f7230462740} ERROR: [CacheVolition] Can not open /etc/trafficserver/volume.config file : No such file or directory
[Sep 27 06:05:42.274] Server {0x7f7230462740} WARNING: Cannot read the config file: /etc/trafficserver/volume.config
[Sep 27 06:05:42.275] Server {0x7f7230462740} WARNING: cache unable to open '/usr/local/var/trafficserver/cache.db': Permission denied
[Sep 27 06:05:42.275] Server {0x7f7230462740} WARNING: unable to open cache disk(s): Cache Disabled
[Sep 27 06:05:42.316] Server {0x7f7230462740} NOTE: logging initialized[11], logging_mode = 3
[Sep 27 06:05:42.523] Server {0x7f7230462740} NOTE: loading plugin '/usr/local/libexec/trafficserver/banjax.so'
[Sep 27 06:05:42.573] Server {0x7f7230462740} DIAG: (banjax) in the beginning
[Sep 27 06:05:42.651] Server {0x7f7230462740} DIAG: (banjax) Connecting to swabber server...
[Sep 27 06:05:42.679] Server {0x7f7230462740} NOTE: traffic server running
[Sep 27 06:06:01.857] Server {0x7f722be41700} DEBUG: (http_seq) [HttpAccept:mainEvent 0x7f7220015620] accepted connection from 127.0.0.1:46295 transport type = 0
[Sep 27 06:06:01.857] Server {0x7f722be41700} DEBUG: (http_cs) [0] session born, netvc 0x7f7220015620
[Sep 27 06:06:01.859] Server {0x7f722be41700} DEBUG: (http_cs) [0] using accept inactivity timeout [120 seconds]
[Sep 27 06:06:01.860] Server {0x7f722be41700} DEBUG: (http_cs) [0] Starting transaction 1 using sm [0]
[Sep 27 06:06:01.865] Server {0x7f722be41700} DEBUG: (http) [0] calling plugin on hook TS_HTTP_TXN_START_HOOK at hook 0x2825430
[Sep 27 06:06:01.865] Server {0x7f722be41700} DIAG: (banjax) txn start
[Sep 27 06:06:01.865] Server {0x7f722be41700} DIAG: (banjax) New continuation data at 140127804455168
[Sep 27 06:06:01.865] Server {0x7f722be41700} DEBUG: (http) [0] [&HttpSM::state_api_callback, HTTP_API_CONTINUE]
[Sep 27 06:06:01.865] Server {0x7f722be41700} DEBUG: (http) [0] [&HttpSM::state_api_callout, HTTP_API_CONTINUE]
[Sep 27 06:06:01.866] Server {0x7f722be41700} DEBUG: (http) [0] [HttpSM::main_handler, VC_EVENT_READ_READY]
[Sep 27 06:06:01.866] Server {0x7f722be41700} DEBUG: (http) [0] [&HttpSM::state_read_client_request_header, VC_EVENT_READ_READY]
[Sep 27 06:06:01.866] Server {0x7f722be41700} DEBUG: (http) [0] done parsing client request header
[Sep 27 06:06:01.866] Server {0x7f722be41700} DEBUG: (http_trans) START HttpTransact::ModifyRequest
[Sep 27 06:06:01.866] Server {0x7f722be41700} DEBUG: (http_trans) [ink_cluster_time] local: 1380283561, highest_delta: 0, cluster: 1380283561
[Sep 27 06:06:01.866] Server {0x7f722be41700} DEBUG: (http_trans) END HttpTransact::ModifyRequest
[Sep 27 06:06:01.866] Server {0x7f722be41700} DEBUG: (http_trans) Next action HTTP_API_READ_REQUEST_HDR; HttpTransact::StartRemapRequest
[Sep 27 06:06:01.866] Server {0x7f722be41700} DEBUG: (http) [0] State Transition: STATE_UNDEFINED -> API_READ_REQUEST_HDR
[Sep 27 06:06:01.867] Server {0x7f722be41700} DEBUG: (http) [0] calling plugin on hook TS_HTTP_READ_REQUEST_HDR_HOOK at hook 0x2825410
[Sep 27 06:06:01.867] Server {0x7f722be41700} DIAG: (banjax) request
[Sep 27 06:06:01.867] Server {0x7f722be41700} DIAG: (banjax) resp url http://localhost:8080/vmon
[Sep 27 06:06:01.867] Server {0x7f722be41700} DIAG: (banjax) Examining http:///vmon localhost:8080 Mozilla/5.0 (X11; Linux x86_64; rv:22.0) Gecko/20130627 conkeror/1.0pre for banned matches
[Sep 27 06:06:01.867] Server {0x7f722be41700} DIAG: (banjax) requests matched .*vmon[\s\S]*
[Sep 27 06:06:01.872] Server {0x7f722be41700} DIAG: (banjax) asking swabber to ban client ip: 127.0.0.1
[Sep 27 06:06:01.872] Server {0x7f722be41700} DEBUG: (http) [0] [&HttpSM::state_api_callback, HTTP_API_ERROR]
[Sep 27 06:06:01.872] Server {0x7f722be41700} DEBUG: (http) [0] [&HttpSM::state_api_callout, HTTP_API_ERROR]
[Sep 27 06:06:01.872] Server {0x7f722be41700} DEBUG: (http_trans) [HttpTransact::HandleApiErrorJump]
[Sep 27 06:06:01.872] Server {0x7f722be41700} DEBUG: (http_trans) [WUTS code generation] Hit/Miss: 49, Log: 51, Hier: 50, Status: 500
[Sep 27 06:06:01.872] Server {0x7f722be41700} DEBUG: (http_trans) Adding Server: ATS/3.2.4
+++++++++ Proxy's Response 2 +++++++++
-- State Machine Id: 0
HTTP/1.1 500 INKApi Error
Date: Fri, 27 Sep 2013 12:06:01 GMT
Connection: close
Server: ATS/3.2.4

[Sep 27 06:06:01.872] Server {0x7f722be41700} DEBUG: (http_trans) Next action PROXY_INTERNAL_CACHE_NOOP; NULL
[Sep 27 06:06:01.872] Server {0x7f722be41700} DEBUG: (http) [0] State Transition: API_READ_REQUEST_HDR -> PROXY_INTERNAL_CACHE_NOOP
[Sep 27 06:06:01.872] Server {0x7f722be41700} DEBUG: (http) [0] calling plugin on hook TS_HTTP_SEND_RESPONSE_HDR_HOOK at hook 0x28253d0
[Sep 27 06:06:01.872] Server {0x7f722be41700} DIAG: (banjax) response
[Sep 27 06:06:01.872] Server {0x7f722be41700} DEBUG: (http) [0] [&HttpSM::state_api_callback, HTTP_API_CONTINUE]
[Sep 27 06:06:01.872] Server {0x7f722be41700} DEBUG: (http) [0] [&HttpSM::state_api_callout, HTTP_API_CONTINUE]
[Sep 27 06:06:01.872] Server {0x7f722be41700} DEBUG: (http_redirect) [HttpSM::do_redirect]
[Sep 27 06:06:01.872] Server {0x7f722be41700} DEBUG: (http_redirect) [HttpTunnel::deallocate_postdata_copy_buffers]
[Sep 27 06:06:01.872] Server {0x7f722be41700} DEBUG: (http_tunnel) [0] adding producer 'internal msg'
[Sep 27 06:06:01.872] Server {0x7f722be41700} DEBUG: (http_tunnel) [0] adding consumer 'user agent'
[Sep 27 06:06:01.872] Server {0x7f722be41700} DEBUG: (http_tunnel) tunnel_run started, p_arg is NULL
[Sep 27 06:06:01.872] Server {0x7f722be41700} DEBUG: (http_cs) tcp_init_cwnd_set 0
[Sep 27 06:06:01.872] Server {0x7f722be41700} DEBUG: (http_cs) desired TCP congestion window is 0
[Sep 27 06:06:01.872] Server {0x7f722be41700} DEBUG: (http_tunnel) [0] consumer_handler [user agent VC_EVENT_WRITE_COMPLETE]
[Sep 27 06:06:01.872] Server {0x7f722be41700} DEBUG: (http) [0] [&HttpSM::tunnel_handler_ua, VC_EVENT_WRITE_COMPLETE]
[Sep 27 06:06:01.872] Server {0x7f722be41700} DEBUG: (http_cs) [0] session closed
[Sep 27 06:06:01.872] Server {0x7f722be41700} DEBUG: (http_cs) [0] session destroy
[Sep 27 06:06:01.872] Server {0x7f722be41700} DEBUG: (http) [0] [HttpSM::main_handler, HTTP_TUNNEL_EVENT_DONE]
[Sep 27 06:06:01.872] Server {0x7f722be41700} DEBUG: (http) [0] [&HttpSM::tunnel_handler, HTTP_TUNNEL_EVENT_DONE]
[Sep 27 06:06:01.872] Server {0x7f722be41700} DEBUG: (http_redirect) [HttpTunnel::deallocate_postdata_copy_buffers]
[Sep 27 06:06:01.873] Server {0x7f722be41700} DEBUG: (http) [0] calling plugin on hook TS_HTTP_TXN_CLOSE_HOOK at hook 0x28253f0
[Sep 27 06:06:01.873] Server {0x7f722be41700} DIAG: (banjax) txn close
[Sep 27 06:06:01.873] Server {0x7f722be41700} DIAG: (banjax) continuation data being destroyed at 140127804455168
[Sep 27 06:06:01.873] Server {0x7f722be41700} DIAG: (banjax) somebody is destorynig the continuation
[Sep 27 06:06:01.873] Server {0x7f722be41700} DIAG: (banjax) holy shit!
[Sep 27 06:06:01.873] Server {0x7f722be41700} DEBUG: (http) [0] [&HttpSM::state_api_callback, HTTP_API_CONTINUE]
[Sep 27 06:06:01.873] Server {0x7f722be41700} DEBUG: (http) [0] [&HttpSM::state_api_callout, HTTP_API_CONTINUE]
[Sep 27 06:06:01.873] Server {0x7f722be41700} DEBUG: (http_seq) [HttpStateMachineGet::update_stats] Logging transaction
[Sep 27 06:06:01.873] Server {0x7f722be41700} DEBUG: (http) [0] dellocating sm
[Sep 27 06:06:06.642] Server {0x7f7230462740} DEBUG: (http_seq) [HttpAccept:mainEvent 0x7f72200150e0] accepted connection from 127.0.0.1:46296 transport type = 0
[Sep 27 06:06:06.642] Server {0x7f7230462740} DEBUG: (http_cs) [1] session born, netvc 0x7f72200150e0
[Sep 27 06:06:06.642] Server {0x7f7230462740} DEBUG: (http_cs) [1] using accept inactivity timeout [120 seconds]
[Sep 27 06:06:06.643] Server {0x7f7230462740} DEBUG: (http_cs) [1] Starting transaction 1 using sm [1]
[Sep 27 06:06:06.643] Server {0x7f7230462740} DEBUG: (http) [1] calling plugin on hook TS_HTTP_TXN_START_HOOK at hook 0x2825430
[Sep 27 06:06:06.643] Server {0x7f7230462740} DIAG: (banjax) txn start
[Sep 27 06:06:06.643] Server {0x7f7230462740} DIAG: (banjax) New continuation data at 42189360
[Sep 27 06:06:06.643] Server {0x7f7230462740} DEBUG: (http) [1] [&HttpSM::state_api_callback, HTTP_API_CONTINUE]
[Sep 27 06:06:06.643] Server {0x7f7230462740} DEBUG: (http) [1] [&HttpSM::state_api_callout, HTTP_API_CONTINUE]
[Sep 27 06:06:06.643] Server {0x7f7230462740} DEBUG: (http) [1] [HttpSM::main_handler, VC_EVENT_READ_READY]
[Sep 27 06:06:06.643] Server {0x7f7230462740} DEBUG: (http) [1] [&HttpSM::state_read_client_request_header, VC_EVENT_READ_READY]
[Sep 27 06:06:06.643] Server {0x7f7230462740} DEBUG: (http) [1] done parsing client request header
[Sep 27 06:06:06.643] Server {0x7f7230462740} DEBUG: (http_trans) START HttpTransact::ModifyRequest
[Sep 27 06:06:06.643] Server {0x7f7230462740} DEBUG: (http_trans) [ink_cluster_time] local: 1380283566, highest_delta: 0, cluster: 1380283566
[Sep 27 06:06:06.643] Server {0x7f7230462740} DEBUG: (http_trans) END HttpTransact::ModifyRequest
[Sep 27 06:06:06.643] Server {0x7f7230462740} DEBUG: (http_trans) Next action HTTP_API_READ_REQUEST_HDR; HttpTransact::StartRemapRequest
[Sep 27 06:06:06.643] Server {0x7f7230462740} DEBUG: (http) [1] State Transition: STATE_UNDEFINED -> API_READ_REQUEST_HDR
[Sep 27 06:06:06.643] Server {0x7f7230462740} DEBUG: (http) [1] calling plugin on hook TS_HTTP_READ_REQUEST_HDR_HOOK at hook 0x28253f0
[Sep 27 06:06:06.643] Server {0x7f7230462740} DIAG: (banjax) request
[Sep 27 06:06:06.643] Server {0x7f7230462740} DIAG: (banjax) resp url http://localhost:8080/vman
[Sep 27 06:06:06.643] Server {0x7f7230462740} DIAG: (banjax) Examining http:///vman localhost:8080 Mozilla/5.0 (X11; Linux x86_64; rv:22.0) Gecko/20130627 conkeror/1.0pre for banned matches
[Sep 27 06:06:06.644] Server {0x7f7230462740} DIAG: (banjax) cookie_value: __utma=111872281.870853053.1376267066.1376267066.1376267066.1; __utmz=111872281.1376267066.1.1.utmcsr=(direct)|utmccn=(direct)|utmcmd=(none); org.cups.sid=cc311426186382b8495a7ba418048334
[Sep 27 06:06:06.644] Server {0x7f7230462740} DIAG: (banjax) cookie_val: '(null)'
[Sep 27 06:06:06.644] Server {0x7f7230462740} DIAG: (banjax) ChMng: SHA256 not valid
[Sep 27 06:06:06.644] Server {0x7f7230462740} DIAG: (banjax) cookie is not valid, sending challenge
[Sep 27 06:06:06.644] Server {0x7f7230462740} DEBUG: (http) [1] [&HttpSM::state_api_callback, HTTP_API_ERROR]
[Sep 27 06:06:06.644] Server {0x7f7230462740} DEBUG: (http) [1] [&HttpSM::state_api_callout, HTTP_API_ERROR]
[Sep 27 06:06:06.644] Server {0x7f7230462740} DEBUG: (http_trans) [HttpTransact::HandleApiErrorJump]
[Sep 27 06:06:06.644] Server {0x7f7230462740} DEBUG: (http_trans) [WUTS code generation] Hit/Miss: 49, Log: 51, Hier: 50, Status: 500
[Sep 27 06:06:06.644] Server {0x7f7230462740} DEBUG: (http_trans) Adding Server: ATS/3.2.4
+++++++++ Proxy's Response 2 +++++++++
-- State Machine Id: 1
HTTP/1.1 500 INKApi Error
Date: Fri, 27 Sep 2013 12:06:06 GMT
Connection: close
Server: ATS/3.2.4

[Sep 27 06:06:06.644] Server {0x7f7230462740} DEBUG: (http_trans) Next action PROXY_INTERNAL_CACHE_NOOP; NULL
[Sep 27 06:06:06.644] Server {0x7f7230462740} DEBUG: (http) [1] State Transition: API_READ_REQUEST_HDR -> PROXY_INTERNAL_CACHE_NOOP
[Sep 27 06:06:06.644] Server {0x7f7230462740} DEBUG: (http) [1] calling plugin on hook TS_HTTP_SEND_RESPONSE_HDR_HOOK at hook 0x2825410
[Sep 27 06:06:06.644] Server {0x7f7230462740} DIAG: (banjax) response
FATAL: /home/vmon/doc/code/deflect/ats_lab/trafficserver-3.2.4/proxy/InkAPI.cc:5465: failed assert `buflength > 0`
/usr/local/bin/traffic_server - STACK TRACE: 
/usr/local/lib/libtsutil.so.3(ink_fatal+0xa3)[0x7f723005a134]
/usr/local/lib/libtsutil.so.3(_ink_assert+0x3c)[0x7f7230058f68]
/usr/local/bin/traffic_server(_TSReleaseAssert+0x29)[0x4e9439]
/usr/local/bin/traffic_server(TSHttpTxnErrorBodySet+0x83)[0x4f5ad2]
/usr/local/libexec/trafficserver/banjax.so(_ZN15ATSEventHandler15handle_responseEP18BanjaxContinuation+0x17c)[0x7f7228d85e48]
/usr/local/libexec/trafficserver/banjax.so(_ZN15ATSEventHandler26banjax_global_eventhandlerEP10tsapi_cont7TSEventPv+0x1b3)[0x7f7228d85a8b]
/usr/local/bin/traffic_server(_ZN15INKContInternal12handle_eventEiPv+0xa7)[0x4ea259]
/usr/local/bin/traffic_server(_ZN12Continuation11handleEventEiPv+0x72)[0x4e1c04]
/usr/local/bin/traffic_server(_ZN7APIHook6invokeEiPv+0x4f)[0x4eaa73]
/usr/local/bin/traffic_server(_ZN6HttpSM17state_api_calloutEiPv+0x585)[0x563035]
/usr/local/bin/traffic_server(_ZN6HttpSM23do_api_callout_internalEv+0x18a)[0x56d8b4]
/usr/local/bin/traffic_server(_ZN6HttpSM14do_api_calloutEv+0x26)[0x5787e8]
/usr/local/bin/traffic_server(_ZN6HttpSM14set_next_stateEv+0xecc)[0x5746b0]
/usr/local/bin/traffic_server(_ZN6HttpSM32call_transact_and_set_next_stateEPFvPN12HttpTransact5StateEE+0x1aa)[0x5737dc]
/usr/local/bin/traffic_server(_ZN6HttpSM17state_api_calloutEiPv+0x829)[0x5632d9]
/usr/local/bin/traffic_server(_ZN6HttpSM18state_api_callbackEiPv+0x169)[0x562a65]
/usr/local/bin/traffic_server(TSHttpTxnReenable+0x12a)[0x4f5f94]
/usr/local/libexec/trafficserver/banjax.so(_ZN15ATSEventHandler14handle_requestEP18BanjaxContinuation+0x123)[0x7f7228d85c5b]
/usr/local/libexec/trafficserver/banjax.so(_ZN15ATSEventHandler26banjax_global_eventhandlerEP10tsapi_cont7TSEventPv+0xa0)[0x7f7228d85978]
/usr/local/bin/traffic_server(_ZN15INKContInternal12handle_eventEiPv+0xa7)[0x4ea259]
/usr/local/bin/traffic_server(_ZN12Continuation11handleEventEiPv+0x72)[0x4e1c04]
/usr/local/bin/traffic_server(_ZN7APIHook6invokeEiPv+0x4f)[0x4eaa73]
/usr/local/bin/traffic_server(_ZN6HttpSM17state_api_calloutEiPv+0x585)[0x563035]
/usr/local/bin/traffic_server(_ZN6HttpSM23do_api_callout_internalEv+0x18a)[0x56d8b4]
/usr/local/bin/traffic_server(_ZN6HttpSM14do_api_calloutEv+0x26)[0x5787e8]
/usr/local/bin/traffic_server(_ZN6HttpSM14set_next_stateEv+0x66)[0x57384a]
/usr/local/bin/traffic_server(_ZN6HttpSM32call_transact_and_set_next_stateEPFvPN12HttpTransact5StateEE+0x1aa)[0x5737dc]
/usr/local/bin/traffic_server(_ZN6HttpSM32state_read_client_request_headerEiPv+0x80e)[0x5614a8]
/usr/local/bin/traffic_server(_ZN6HttpSM12main_handlerEiPv+0x1d0)[0x566452]
/usr/local/bin/traffic_server(_ZN12Continuation11handleEventEiPv+0x72)[0x4e1c04]
/usr/local/bin/traffic_server[0x6a4627]
/usr/local/bin/traffic_server[0x6a4e15]
/usr/local/bin/traffic_server(_ZN18UnixNetVConnection11net_read_ioEP10NetHandlerP7EThread+0x2b)[0x6a67d9]
/usr/local/bin/traffic_server(_ZN10NetHandler12mainNetEventEiP5Event+0x56a)[0x6a155a]
/usr/local/bin/traffic_server(_ZN12Continuation11handleEventEiPv+0x72)[0x4e1c04]
/usr/local/bin/traffic_server(_ZN7EThread13process_eventEP5Eventi+0xcb)[0x6c5205]
/usr/local/bin/traffic_server(_ZN7EThread7executeEv+0x397)[0x6c56d3]
/usr/local/bin/traffic_server(main+0x10ec)[0x50b024]
/usr/lib/libc.so.6(__libc_start_main+0xf5)[0x7f722d33abc5]
/usr/local/bin/traffic_server[0x4c6799]
[vmon@telly banjax]$ locate banjax.conf
/home/vmon/Dropbox/doc/code/deflect/ats_lab/banjax/config/banjax.conf
/home/vmon/Dropbox/doc/code/deflect/ats_lab/banjax/config/banjax.conf~
/home/vmon/Dropbox/doc/code/deflect/ats_lab/deflect/banjax/config/banjax.conf
/home/vmon/Dropbox/doc/code/deflect/ats_lab/deflect/banjax/config/banjax.conf~
/usr/local/libexec/trafficserver/banjax/banjax.conf
/usr/local/libexec/trafficserver/banjax/banjax.conf~
[vmon@telly banjax]$ sudo cp challenger/solver.html /usr/local/libexec/trafficserver/banjax/
[vmon@telly banjax]$ ls challenger/
solver.html  solver.html~  waiting.gif
[vmon@telly banjax]$ cat solver.htm
cat: solver.htm: No such file or directory
[vmon@telly banjax]$ cat solver.html
cat: solver.html: No such file or directory
[vmon@telly banjax]$ mv challenger/solver.html config/
[vmon@telly banjax]$ 